<!doctype html>
<html lang="en" data-theme="df12">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:wght@400;700&family=Inter:wght@400;600;700&display=swap" rel="stylesheet" />
  <link href="assets/site.css" rel="stylesheet" />
  <title>df12 Productions â€” Defining Targets and Actions | Netsuke Docs</title>
  <style>
    pre { line-height: 125%; }
td.linenos .normal { color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px; }
span.linenos { color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px; }
td.linenos .special { color: #000000; background-color: #ffffc0; padding-left: 5px; padding-right: 5px; }
span.linenos.special { color: #000000; background-color: #ffffc0; padding-left: 5px; padding-right: 5px; }
.codehilite .hll { background-color: #49483e }
.codehilite { background: #272822; color: #F8F8F2 }
.codehilite .c { color: #959077 } /* Comment */
.codehilite .err { color: #ED007E; background-color: #1E0010 } /* Error */
.codehilite .esc { color: #F8F8F2 } /* Escape */
.codehilite .g { color: #F8F8F2 } /* Generic */
.codehilite .k { color: #66D9EF } /* Keyword */
.codehilite .l { color: #AE81FF } /* Literal */
.codehilite .n { color: #F8F8F2 } /* Name */
.codehilite .o { color: #FF4689 } /* Operator */
.codehilite .x { color: #F8F8F2 } /* Other */
.codehilite .p { color: #F8F8F2 } /* Punctuation */
.codehilite .ch { color: #959077 } /* Comment.Hashbang */
.codehilite .cm { color: #959077 } /* Comment.Multiline */
.codehilite .cp { color: #959077 } /* Comment.Preproc */
.codehilite .cpf { color: #959077 } /* Comment.PreprocFile */
.codehilite .c1 { color: #959077 } /* Comment.Single */
.codehilite .cs { color: #959077 } /* Comment.Special */
.codehilite .gd { color: #FF4689 } /* Generic.Deleted */
.codehilite .ge { color: #F8F8F2; font-style: italic } /* Generic.Emph */
.codehilite .ges { color: #F8F8F2; font-weight: bold; font-style: italic } /* Generic.EmphStrong */
.codehilite .gr { color: #F8F8F2 } /* Generic.Error */
.codehilite .gh { color: #F8F8F2 } /* Generic.Heading */
.codehilite .gi { color: #A6E22E } /* Generic.Inserted */
.codehilite .go { color: #66D9EF } /* Generic.Output */
.codehilite .gp { color: #FF4689; font-weight: bold } /* Generic.Prompt */
.codehilite .gs { color: #F8F8F2; font-weight: bold } /* Generic.Strong */
.codehilite .gu { color: #959077 } /* Generic.Subheading */
.codehilite .gt { color: #F8F8F2 } /* Generic.Traceback */
.codehilite .kc { color: #66D9EF } /* Keyword.Constant */
.codehilite .kd { color: #66D9EF } /* Keyword.Declaration */
.codehilite .kn { color: #FF4689 } /* Keyword.Namespace */
.codehilite .kp { color: #66D9EF } /* Keyword.Pseudo */
.codehilite .kr { color: #66D9EF } /* Keyword.Reserved */
.codehilite .kt { color: #66D9EF } /* Keyword.Type */
.codehilite .ld { color: #E6DB74 } /* Literal.Date */
.codehilite .m { color: #AE81FF } /* Literal.Number */
.codehilite .s { color: #E6DB74 } /* Literal.String */
.codehilite .na { color: #A6E22E } /* Name.Attribute */
.codehilite .nb { color: #F8F8F2 } /* Name.Builtin */
.codehilite .nc { color: #A6E22E } /* Name.Class */
.codehilite .no { color: #66D9EF } /* Name.Constant */
.codehilite .nd { color: #A6E22E } /* Name.Decorator */
.codehilite .ni { color: #F8F8F2 } /* Name.Entity */
.codehilite .ne { color: #A6E22E } /* Name.Exception */
.codehilite .nf { color: #A6E22E } /* Name.Function */
.codehilite .nl { color: #F8F8F2 } /* Name.Label */
.codehilite .nn { color: #F8F8F2 } /* Name.Namespace */
.codehilite .nx { color: #A6E22E } /* Name.Other */
.codehilite .py { color: #F8F8F2 } /* Name.Property */
.codehilite .nt { color: #FF4689 } /* Name.Tag */
.codehilite .nv { color: #F8F8F2 } /* Name.Variable */
.codehilite .ow { color: #FF4689 } /* Operator.Word */
.codehilite .pm { color: #F8F8F2 } /* Punctuation.Marker */
.codehilite .w { color: #F8F8F2 } /* Text.Whitespace */
.codehilite .mb { color: #AE81FF } /* Literal.Number.Bin */
.codehilite .mf { color: #AE81FF } /* Literal.Number.Float */
.codehilite .mh { color: #AE81FF } /* Literal.Number.Hex */
.codehilite .mi { color: #AE81FF } /* Literal.Number.Integer */
.codehilite .mo { color: #AE81FF } /* Literal.Number.Oct */
.codehilite .sa { color: #E6DB74 } /* Literal.String.Affix */
.codehilite .sb { color: #E6DB74 } /* Literal.String.Backtick */
.codehilite .sc { color: #E6DB74 } /* Literal.String.Char */
.codehilite .dl { color: #E6DB74 } /* Literal.String.Delimiter */
.codehilite .sd { color: #E6DB74 } /* Literal.String.Doc */
.codehilite .s2 { color: #E6DB74 } /* Literal.String.Double */
.codehilite .se { color: #AE81FF } /* Literal.String.Escape */
.codehilite .sh { color: #E6DB74 } /* Literal.String.Heredoc */
.codehilite .si { color: #E6DB74 } /* Literal.String.Interpol */
.codehilite .sx { color: #E6DB74 } /* Literal.String.Other */
.codehilite .sr { color: #E6DB74 } /* Literal.String.Regex */
.codehilite .s1 { color: #E6DB74 } /* Literal.String.Single */
.codehilite .ss { color: #E6DB74 } /* Literal.String.Symbol */
.codehilite .bp { color: #F8F8F2 } /* Name.Builtin.Pseudo */
.codehilite .fm { color: #A6E22E } /* Name.Function.Magic */
.codehilite .vc { color: #F8F8F2 } /* Name.Variable.Class */
.codehilite .vg { color: #F8F8F2 } /* Name.Variable.Global */
.codehilite .vi { color: #F8F8F2 } /* Name.Variable.Instance */
.codehilite .vm { color: #F8F8F2 } /* Name.Variable.Magic */
.codehilite .il { color: #AE81FF } /* Literal.Number.Integer.Long */

    .doc-shell {
      padding-top: 6rem;
      padding-bottom: 6rem;
    }

    .rich-text :is(p, ul, ol, h3, h4) {
      margin-bottom: 1rem;
      color: hsl(var(--bc) / 0.9);
      line-height: 1.7;
    }

    .rich-text ul {
      list-style: disc;
      padding-left: 1.5rem;
    }

    .doc-numbered-steps {
      display: flex;
      flex-direction: column;
      gap: 2rem;
      margin-top: 2.5rem;
    }

    .doc-step {
      display: flex;
      gap: 1.5rem;
      align-items: flex-start;
      padding: 1.5rem;
      border-radius: 1.5rem;
      border: 1px solid hsl(var(--b3));
      background: hsl(var(--b1));
    }

    .doc-step__index {
      width: 3rem;
      height: 3rem;
      border-radius: 9999px;
      border: 2px solid hsl(var(--a));
      font-family: "IBM Plex Mono", monospace;
      font-weight: 700;
      font-size: 1.25rem;
      display: flex;
      align-items: center;
      justify-content: center;
      color: hsl(var(--a));
      flex-shrink: 0;
    }

    .doc-split-grid {
      margin-top: 3rem;
      display: grid;
      gap: 2rem;
    }

    @media (min-width: 1024px) {
      .doc-split-grid {
        grid-template-columns: repeat(2, minmax(0, 1fr));
      }
      .doc-shell {
        padding-top: 8rem;
        padding-bottom: 8rem;
      }
    }

    .codehilite {
      border-radius: 1.5rem;
      padding: 1.5rem;
      background: #0f172a;
      font-size: 0.9rem;
      overflow: auto;
    }

    .doc-card {
      border: 1px solid hsl(var(--b3));
      border-radius: 2rem;
      padding: 2.5rem;
      background: hsl(var(--b1));
    }

    .doc-footer {
      border-top: 1px solid hsl(var(--b2));
      margin-top: 4rem;
      padding-top: 2rem;
      color: hsl(var(--bc) / 0.7);
    }
  </style>
</head>
<body class="bg-base-100 text-base-content">
  <a href="#main-content" class="skip-link sr-only-focusable">Skip to content</a>

  <header id="site-header" class="fixed inset-x-0 top-0 z-50 border-b border-base-200 bg-base-100/80 backdrop-blur supports-[backdrop-filter]:bg-base-100/60">
    <div class="layout-shell flex w-full items-center justify-between px-4 py-4 md:px-8">
      <a href="index.html" class="group flex items-center gap-3 font-mono text-lg font-bold uppercase tracking-[0.35em] text-base-content">
        <span class="flex h-9 w-9 items-center justify-center transition-transform duration-300 group-hover:rotate-45">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
            <rect x="12" width="16.9706" height="16.9706" transform="rotate(45 12 0)" />
          </svg>
        </span>
        df12
      </a>
      <nav aria-label="Primary navigation" class="hidden items-center gap-8 md:flex">
        <a href="index.html#systems" class="nav-link hit-target">Tools</a>
        <a href="index.html#worlds" class="nav-link hit-target" data-variant="accent">Creative</a>
        <a href="#" class="nav-link hit-target" data-variant="neutral" aria-current="page">Docs</a>
      </nav>
      <div class="md:hidden">
        <details class="dropdown dropdown-end">
          <summary class="btn btn-ghost btn-sm font-mono uppercase tracking-[0.3em]">Menu</summary>
          <ul class="menu dropdown-content menu-sm z-[1] mt-2 w-44 rounded-box bg-base-100 p-2 shadow">
            <li><a href="index.html#systems" class="nav-link hit-target w-full justify-start">Tools</a></li>
            <li><a href="index.html#worlds" class="nav-link hit-target w-full justify-start" data-variant="accent">Creative</a></li>
            <li><a class="nav-link hit-target w-full justify-start" aria-current="page">Docs</a></li>
          </ul>
        </details>
      </div>
    </div>
  </header>

  <main id="main-content" class="flex flex-col">
    <section class="doc-shell layout-shell">
      <p class="eyebrow text-primary/80">Netsuke Documentation</p>
      <div class="flex flex-col gap-4 md:flex-row md:items-end md:justify-between">
        <div>
          <h1 class="section-title">5. Defining Targets and Actions</h1>
          <p class="mt-3 text-lg text-base-content/70 max-w-3xl">Declarative build tooling for ambitious teams</p>
        </div>
        <div class="flex flex-wrap gap-3 text-sm font-mono uppercase tracking-[0.3em] text-base-content/60">
          <span>Section 05</span>
          <span>Updated Nov 08, 2025</span>
        </div>
      </div>

      <div class="mt-8 flex flex-wrap gap-3">
          <a href="docs-netsuke-introduction-what-is-netsuke.html"
             class="btn btn-sm font-mono uppercase tracking-[0.3em] btn-ghost">
            Introduction: What is Netsuke?
          </a>
          <a href="docs-netsuke-getting-started.html"
             class="btn btn-sm font-mono uppercase tracking-[0.3em] btn-ghost">
            Getting Started
          </a>
          <a href="docs-netsuke-the-netsukefile-manifest.html"
             class="btn btn-sm font-mono uppercase tracking-[0.3em] btn-ghost">
            The Netsukefile Manifest
          </a>
          <a href="docs-netsuke-defining-rules.html"
             class="btn btn-sm font-mono uppercase tracking-[0.3em] btn-ghost">
            Defining Rules
          </a>
          <a href="docs-netsuke-defining-targets-and-actions.html"
             class="btn btn-sm font-mono uppercase tracking-[0.3em] btn-primary">
            Defining Targets and Actions
          </a>
          <a href="docs-netsuke-jinja-templating-in-netsuke.html"
             class="btn btn-sm font-mono uppercase tracking-[0.3em] btn-ghost">
            Jinja Templating in Netsuke
          </a>
          <a href="docs-netsuke-netsuke-standard-library-stdlib.html"
             class="btn btn-sm font-mono uppercase tracking-[0.3em] btn-ghost">
            Netsuke Standard Library (Stdlib)
          </a>
          <a href="docs-netsuke-command-line-interface-cli.html"
             class="btn btn-sm font-mono uppercase tracking-[0.3em] btn-ghost">
            Command-Line Interface (CLI)
          </a>
          <a href="docs-netsuke-examples-in-practice.html"
             class="btn btn-sm font-mono uppercase tracking-[0.3em] btn-ghost">
            Examples in Practice
          </a>
          <a href="docs-netsuke-error-handling.html"
             class="btn btn-sm font-mono uppercase tracking-[0.3em] btn-ghost">
            Error Handling
          </a>
          <a href="docs-netsuke-security-considerations.html"
             class="btn btn-sm font-mono uppercase tracking-[0.3em] btn-ghost">
            Security Considerations
          </a>
      </div>

      <article class="doc-card mt-10">
          <div class="doc-split-grid">
            <div class="rich-text"><p>Targets define <em>what</em> to build or <em>what action</em> to perform.</p>
<ul>
<li>
<p><code>name</code>: Output file path(s). Can be a string or a list (<code>StringOrList</code>).</p>
</li>
<li>
<p><code>recipe</code>: How to build the target. Defined by one of <code>rule</code>, <code>command</code>, or
  <code>script</code> (mutually exclusive).</p>
</li>
<li>
<p><code>sources</code>: Input file path(s) (<code>StringOrList</code>). If a source matches another
  target's <code>name</code>, an implicit dependency is created.</p>
</li>
<li>
<p><code>deps</code> (Optional): Explicit target dependencies (<code>StringOrList</code>). Changes
  trigger rebuilds.</p>
</li>
<li>
<p><code>order_only_deps</code> (Optional): Dependencies that must run first but whose
  changes don't trigger rebuilds (<code>StringOrList</code>). Maps to Ninja <code>||</code>.</p>
</li>
<li>
<p><code>vars</code> (Optional): Target-specific variables that override global <code>vars</code>.</p>
</li>
<li>
<p><code>phony</code> (Optional, default <code>false</code>): Treat target as logical, not a file.
  Always out-of-date if requested.</p>
</li>
<li>
<p><code>always</code> (Optional, default <code>false</code>): Re-run the command every time
  <code>netsuke</code> is invoked, regardless of dependency changes.</p>
</li>
</ul>
<p><code>StringOrList</code>: Fields like <code>name</code>, <code>sources</code>, <code>deps</code>, and <code>order_only_deps</code>
accept either a single string or a YAML list of strings for convenience.</p></div>
            <div>
              <div class="codehilite"><pre><span></span><span class="nt">targets</span><span class="p">:</span>
<span class="w">  </span><span class="c1"># Example 1: Building an object file using a rule</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">build/utils.o</span><span class="w">         </span><span class="c1"># Output file(s). Can be a string or list.</span>
<span class="w">    </span><span class="nt">rule</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">compile</span><span class="w">               </span><span class="c1"># Rule to use (mutually exclusive with command/script)</span>
<span class="w">    </span><span class="nt">sources</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">src/utils.c</span><span class="w">        </span><span class="c1"># Input file(s). String or list.</span>
<span class="w">    </span><span class="nt">deps</span><span class="p">:</span><span class="w">                       </span><span class="c1"># Explicit dependencies (targets built before this one)</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">build/utils.h</span>
<span class="w">    </span><span class="nt">vars</span><span class="p">:</span><span class="w">                       </span><span class="c1"># Target-local variables, override globals</span>
<span class="w">      </span><span class="nt">cflags</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;-O0</span><span class="nv"> </span><span class="s">-g&quot;</span>

<span class="w">  </span><span class="c1"># Example 2: Linking an executable using an inline command</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">my_app</span>
<span class="w">    </span><span class="nt">command</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;{{</span><span class="nv"> </span><span class="s">cc</span><span class="nv"> </span><span class="s">}}</span><span class="nv"> </span><span class="s">build/main.o</span><span class="nv"> </span><span class="s">build/utils.o</span><span class="nv"> </span><span class="s">-o</span><span class="nv"> </span><span class="s">my_app&quot;</span>
<span class="w">    </span><span class="nt">sources</span><span class="p">:</span><span class="w">                    </span><span class="c1"># Implicit dependencies derived from command/rule usage</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">build/main.o</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">build/utils.o</span>
<span class="w">    </span><span class="nt">order_only_deps</span><span class="p">:</span><span class="w">            </span><span class="c1"># Dependencies built before, but changes don&#39;t trigger rebuild</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">build_directory</span><span class="w">         </span><span class="c1"># e.g., Ensure &#39;build/&#39; exists</span>

<span class="w">  </span><span class="c1"># Example 3: A phony action (can also be in top-level &#39;actions:&#39;)</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">package</span>
<span class="w">    </span><span class="nt">phony</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w">                 </span><span class="c1"># Doesn&#39;t represent a file, always considered out-of-date</span>
<span class="w">    </span><span class="nt">command</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;tar</span><span class="nv"> </span><span class="s">czf</span><span class="nv"> </span><span class="s">package.tar.gz</span><span class="nv"> </span><span class="s">my_app&quot;</span>
<span class="w">    </span><span class="nt">deps</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">my_app</span><span class="w">                </span><span class="c1"># Depends on the &#39;my_app&#39; target</span>

<span class="w">  </span><span class="c1"># Example 4: A target that always runs</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">timestamp</span>
<span class="w">    </span><span class="nt">always</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w">                </span><span class="c1"># Runs every time, regardless of inputs/outputs</span>
<span class="w">    </span><span class="nt">command</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;date</span><span class="nv"> </span><span class="s">&gt;</span><span class="nv"> </span><span class="s">build/timestamp.txt&quot;</span>
</pre></div>

            </div>
          </div>
      </article>

      <div class="doc-footer">
        <p>Source: <a class="link" href="https://raw.githubusercontent.com/leynos/netsuke/refs/heads/main/docs/users-guide.md" target="_blank" rel="noopener">Netsuke User Guide (main)</a></p>
        <p class="mt-1">Generated November 08, 2025 at 13:03 UTC</p>
      </div>
    </section>
  </main>

  <footer id="footer" class="border-t border-base-200 bg-base-100">
    <div class="layout-shell flex flex-col gap-4 px-4 py-10 text-sm text-base-content/70 md:flex-row md:items-center md:justify-between">
      <p class="font-mono uppercase tracking-[0.25em]">df12 Productions</p>
      <p>&copy; 2025 df12 Productions. Built with Netsuke.</p>
    </div>
  </footer>
</body>
</html>