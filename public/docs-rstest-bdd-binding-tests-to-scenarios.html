<!doctype html>
<html lang="en" data-theme="df12">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:wght@400;700&family=Inter:wght@400;600;700&display=swap" rel="stylesheet" />
  <link href="assets/site.css" rel="stylesheet" />
  <title>df12 Productions — Binding tests to scenarios | rstest-bdd</title>
  <style>
    pre { line-height: 125%; }
td.linenos .normal { color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px; }
span.linenos { color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px; }
td.linenos .special { color: #000000; background-color: #ffffc0; padding-left: 5px; padding-right: 5px; }
span.linenos.special { color: #000000; background-color: #ffffc0; padding-left: 5px; padding-right: 5px; }
.codehilite .hll { background-color: #49483e }
.codehilite { background: #272822; color: #F8F8F2 }
.codehilite .c { color: #959077 } /* Comment */
.codehilite .err { color: #ED007E; background-color: #1E0010 } /* Error */
.codehilite .esc { color: #F8F8F2 } /* Escape */
.codehilite .g { color: #F8F8F2 } /* Generic */
.codehilite .k { color: #66D9EF } /* Keyword */
.codehilite .l { color: #AE81FF } /* Literal */
.codehilite .n { color: #F8F8F2 } /* Name */
.codehilite .o { color: #FF4689 } /* Operator */
.codehilite .x { color: #F8F8F2 } /* Other */
.codehilite .p { color: #F8F8F2 } /* Punctuation */
.codehilite .ch { color: #959077 } /* Comment.Hashbang */
.codehilite .cm { color: #959077 } /* Comment.Multiline */
.codehilite .cp { color: #959077 } /* Comment.Preproc */
.codehilite .cpf { color: #959077 } /* Comment.PreprocFile */
.codehilite .c1 { color: #959077 } /* Comment.Single */
.codehilite .cs { color: #959077 } /* Comment.Special */
.codehilite .gd { color: #FF4689 } /* Generic.Deleted */
.codehilite .ge { color: #F8F8F2; font-style: italic } /* Generic.Emph */
.codehilite .ges { color: #F8F8F2; font-weight: bold; font-style: italic } /* Generic.EmphStrong */
.codehilite .gr { color: #F8F8F2 } /* Generic.Error */
.codehilite .gh { color: #F8F8F2 } /* Generic.Heading */
.codehilite .gi { color: #A6E22E } /* Generic.Inserted */
.codehilite .go { color: #66D9EF } /* Generic.Output */
.codehilite .gp { color: #FF4689; font-weight: bold } /* Generic.Prompt */
.codehilite .gs { color: #F8F8F2; font-weight: bold } /* Generic.Strong */
.codehilite .gu { color: #959077 } /* Generic.Subheading */
.codehilite .gt { color: #F8F8F2 } /* Generic.Traceback */
.codehilite .kc { color: #66D9EF } /* Keyword.Constant */
.codehilite .kd { color: #66D9EF } /* Keyword.Declaration */
.codehilite .kn { color: #FF4689 } /* Keyword.Namespace */
.codehilite .kp { color: #66D9EF } /* Keyword.Pseudo */
.codehilite .kr { color: #66D9EF } /* Keyword.Reserved */
.codehilite .kt { color: #66D9EF } /* Keyword.Type */
.codehilite .ld { color: #E6DB74 } /* Literal.Date */
.codehilite .m { color: #AE81FF } /* Literal.Number */
.codehilite .s { color: #E6DB74 } /* Literal.String */
.codehilite .na { color: #A6E22E } /* Name.Attribute */
.codehilite .nb { color: #F8F8F2 } /* Name.Builtin */
.codehilite .nc { color: #A6E22E } /* Name.Class */
.codehilite .no { color: #66D9EF } /* Name.Constant */
.codehilite .nd { color: #A6E22E } /* Name.Decorator */
.codehilite .ni { color: #F8F8F2 } /* Name.Entity */
.codehilite .ne { color: #A6E22E } /* Name.Exception */
.codehilite .nf { color: #A6E22E } /* Name.Function */
.codehilite .nl { color: #F8F8F2 } /* Name.Label */
.codehilite .nn { color: #F8F8F2 } /* Name.Namespace */
.codehilite .nx { color: #A6E22E } /* Name.Other */
.codehilite .py { color: #F8F8F2 } /* Name.Property */
.codehilite .nt { color: #FF4689 } /* Name.Tag */
.codehilite .nv { color: #F8F8F2 } /* Name.Variable */
.codehilite .ow { color: #FF4689 } /* Operator.Word */
.codehilite .pm { color: #F8F8F2 } /* Punctuation.Marker */
.codehilite .w { color: #F8F8F2 } /* Text.Whitespace */
.codehilite .mb { color: #AE81FF } /* Literal.Number.Bin */
.codehilite .mf { color: #AE81FF } /* Literal.Number.Float */
.codehilite .mh { color: #AE81FF } /* Literal.Number.Hex */
.codehilite .mi { color: #AE81FF } /* Literal.Number.Integer */
.codehilite .mo { color: #AE81FF } /* Literal.Number.Oct */
.codehilite .sa { color: #E6DB74 } /* Literal.String.Affix */
.codehilite .sb { color: #E6DB74 } /* Literal.String.Backtick */
.codehilite .sc { color: #E6DB74 } /* Literal.String.Char */
.codehilite .dl { color: #E6DB74 } /* Literal.String.Delimiter */
.codehilite .sd { color: #E6DB74 } /* Literal.String.Doc */
.codehilite .s2 { color: #E6DB74 } /* Literal.String.Double */
.codehilite .se { color: #AE81FF } /* Literal.String.Escape */
.codehilite .sh { color: #E6DB74 } /* Literal.String.Heredoc */
.codehilite .si { color: #E6DB74 } /* Literal.String.Interpol */
.codehilite .sx { color: #E6DB74 } /* Literal.String.Other */
.codehilite .sr { color: #E6DB74 } /* Literal.String.Regex */
.codehilite .s1 { color: #E6DB74 } /* Literal.String.Single */
.codehilite .ss { color: #E6DB74 } /* Literal.String.Symbol */
.codehilite .bp { color: #F8F8F2 } /* Name.Builtin.Pseudo */
.codehilite .fm { color: #A6E22E } /* Name.Function.Magic */
.codehilite .vc { color: #F8F8F2 } /* Name.Variable.Class */
.codehilite .vg { color: #F8F8F2 } /* Name.Variable.Global */
.codehilite .vi { color: #F8F8F2 } /* Name.Variable.Instance */
.codehilite .vm { color: #F8F8F2 } /* Name.Variable.Magic */
.codehilite .il { color: #AE81FF } /* Literal.Number.Integer.Long */

    .codehilite {
      background-color: var(--color-neutral);
      border-radius: 0.75rem;
      padding: 1.25rem;
      color: var(--color-neutral-content);
      font-family: "IBM Plex Mono", monospace;
      position: relative;
      display: flex;
      flex-direction: column;
      gap: 0.75rem;
      box-shadow: 0 10px 40px rgba(0, 0, 0, 0.45);
      overflow: hidden;
    }

    .codehilite pre {
      margin: 0;
      background: transparent;
      font-family: inherit;
      font-size: inherit;
      border: none;
      padding: 0;
      box-shadow: none;
      overflow-x: auto;
    }

    .codehilite__chrome {
      display: flex;
      align-items: center;
      justify-content: space-between;
      font-size: 0.7rem;
      text-transform: uppercase;
      color: rgba(255, 255, 255, 0.7);
      gap: 1rem;
    }

    .codehilite__language {
      white-space: nowrap;
    }

    .codehilite__copy {
      display: inline-flex;
      align-items: center;
      gap: 0.35rem;
      border-radius: 999px;
      color: var(--color-neutral-content);
      font-family: inherit;
      font-size: 0.65rem;
      text-transform: uppercase;
      padding: 0.2rem 0.9rem;
      cursor: pointer;
      transition: background-color 0.2s ease, border-color 0.2s ease, color 0.2s ease;
    }

    .codehilite__copy:hover,
    .codehilite__copy:focus-visible {
      background: rgba(255, 255, 255, 0.2);
      border-color: rgba(255, 255, 255, 0.6);
    }

    .codehilite__copy[data-state="copied"] {
      background: var(--color-accent);
      color: var(--color-accent-content);
      border-color: transparent;
    }

    .codehilite__copy-icon {
      width: 0.85rem;
      height: 0.85rem;
      display: block;
    }

    .svg-inline--fa {
      display: inline;
    }
  </style>
</head>
<body class="doc-page">
  <a href="#main-content" class="skip-link sr-only-focusable">Skip to content</a>

  <header id="site-header" class="site-header">
    <div class="layout-shell layout-shell--docs site-header__inner">
      <a href="index.html" class="site-header__brand group">
        <span class="site-header__logo-mark">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
            <rect x="12" width="16.9706" height="16.9706" transform="rotate(45 12 0)" />
          </svg>
        </span>
        df12
      </a>
      <nav aria-label="Primary navigation" class="site-header__nav">
        <a href="index.html#systems" class="nav-link hit-target">Tools</a>
        <a href="index.html#worlds" class="nav-link hit-target" data-variant="accent">Creative</a>
        <a href="docs.html" class="nav-link hit-target" data-variant="neutral" aria-current="page">Docs</a>
      </nav>
      <div class="md:hidden">
        <details class="dropdown dropdown-end">
          <summary class="btn btn-ghost btn-sm site-header__menu-button">Menu</summary>
          <ul class="menu dropdown-content menu-sm z-[1] mt-2 w-44 rounded-box bg-base-100 p-2 shadow">
            <li><a href="index.html#systems" class="nav-link hit-target site-header__mobile-link">Tools</a></li>
            <li><a href="index.html#worlds" class="nav-link hit-target site-header__mobile-link" data-variant="accent">Creative</a></li>
            <li><a href="docs.html" class="nav-link hit-target site-header__mobile-link" data-variant="neutral" aria-current="page">Docs</a></li>
          </ul>
        </details>
      </div>
    </div>
  </header>

  <main id="main-content" class="site-main site-main--doc">
    <div class="layout-shell layout-shell--docs doc-grid">
      <aside class="doc-sidebar" aria-label="Documentation navigation">
        <div class="doc-sidebar__panel">
          <a href="docs.html" class="doc-sidebar__back">
            <iconify-icon icon="carbon:arrow-left" class="h-4 w-4" aria-hidden="true"></iconify-icon>
            Back to docs
          </a>
          <div>
            <p class="doc-sidebar__eyebrow">rstest-bdd</p>
            <p class="doc-sidebar__body">Behavior-driven testing macros layered on top of `rstest`. Narrative clarity without the ceremony.
</p>
          </div>
          <div class="doc-sidebar__groups">
              <div class="doc-nav-group" aria-label="Introduction">
                <h3 class="doc-nav-group__title " >
                  <a href="docs-rstest-bdd-introduction.html">Introduction</a>
                </h3>
              </div>
              <div class="doc-nav-group" aria-label="Toolchain requirements">
                <h3 class="doc-nav-group__title " >
                  <a href="docs-rstest-bdd-toolchain-requirements.html">Toolchain requirements</a>
                </h3>
              </div>
              <div class="doc-nav-group" aria-label="The three amigos">
                <h3 class="doc-nav-group__title " >
                  <a href="docs-rstest-bdd-the-three-amigos.html">The three amigos</a>
                </h3>
              </div>
              <div class="doc-nav-group" aria-label="Gherkin feature files">
                <h3 class="doc-nav-group__title " >
                  <a href="docs-rstest-bdd-gherkin-feature-files.html">Gherkin feature files</a>
                </h3>
                  <ul class="doc-nav__list" role="list">
                      <li>
                        <a href="docs-rstest-bdd-gherkin-feature-files.html#gherkin-feature-files-example-feature-file"
                           class="doc-nav__link "
>
                          <span>Example feature file</span>
                        </a>
                      </li>
                      <li>
                        <a href="docs-rstest-bdd-gherkin-feature-files.html#gherkin-feature-files-internationalised-scenarios"
                           class="doc-nav__link "
>
                          <span>Internationalised scenarios</span>
                        </a>
                      </li>
                  </ul>
              </div>
              <div class="doc-nav-group" aria-label="Step definitions">
                <h3 class="doc-nav-group__title " >
                  <a href="docs-rstest-bdd-step-definitions.html">Step definitions</a>
                </h3>
                  <ul class="doc-nav__list" role="list">
                      <li>
                        <a href="docs-rstest-bdd-step-definitions.html#step-definitions-fixtures-and-implicit-injection"
                           class="doc-nav__link "
>
                          <span>Fixtures and implicit injection</span>
                        </a>
                      </li>
                      <li>
                        <a href="docs-rstest-bdd-step-definitions.html#step-definitions-step-return-values"
                           class="doc-nav__link "
>
                          <span>Step return values</span>
                        </a>
                      </li>
                      <li>
                        <a href="docs-rstest-bdd-step-definitions.html#step-definitions-struct-based-step-arguments"
                           class="doc-nav__link "
>
                          <span>Struct-based step arguments</span>
                        </a>
                      </li>
                      <li>
                        <a href="docs-rstest-bdd-step-definitions.html#step-definitions-scenario-state-slots"
                           class="doc-nav__link "
>
                          <span>Scenario state slots</span>
                        </a>
                      </li>
                      <li>
                        <a href="docs-rstest-bdd-step-definitions.html#step-definitions-implicit-fixture-injection"
                           class="doc-nav__link "
>
                          <span>Implicit fixture injection</span>
                        </a>
                      </li>
                      <li>
                        <a href="docs-rstest-bdd-step-definitions.html#step-definitions-inferred-step-patterns"
                           class="doc-nav__link "
>
                          <span>Inferred step patterns</span>
                        </a>
                      </li>
                  </ul>
              </div>
              <div class="doc-nav-group" aria-label="Binding tests to scenarios">
                <h3 class="doc-nav-group__title is-active" aria-current="page">
                  <a href="docs-rstest-bdd-binding-tests-to-scenarios.html">Binding tests to scenarios</a>
                </h3>
                  <ul class="doc-nav__list" role="list">
                      <li>
                        <a href="docs-rstest-bdd-binding-tests-to-scenarios.html#binding-tests-to-scenarios-skipping-scenarios"
                           class="doc-nav__link "
>
                          <span>Skipping scenarios</span>
                        </a>
                      </li>
                  </ul>
              </div>
              <div class="doc-nav-group" aria-label="Autodiscovering scenarios">
                <h3 class="doc-nav-group__title " >
                  <a href="docs-rstest-bdd-autodiscovering-scenarios.html">Autodiscovering scenarios</a>
                </h3>
              </div>
              <div class="doc-nav-group" aria-label="Running and maintaining tests">
                <h3 class="doc-nav-group__title " >
                  <a href="docs-rstest-bdd-running-and-maintaining-tests.html">Running and maintaining tests</a>
                </h3>
              </div>
              <div class="doc-nav-group" aria-label="Data tables and Docstrings">
                <h3 class="doc-nav-group__title " >
                  <a href="docs-rstest-bdd-data-tables-and-docstrings.html">Data tables and Docstrings</a>
                </h3>
                  <ul class="doc-nav__list" role="list">
                      <li>
                        <a href="docs-rstest-bdd-data-tables-and-docstrings.html#data-tables-and-docstrings-debugging-data-table-errors"
                           class="doc-nav__link "
>
                          <span>Debugging data table errors</span>
                        </a>
                      </li>
                  </ul>
              </div>
              <div class="doc-nav-group" aria-label="Limitations and roadmap">
                <h3 class="doc-nav-group__title " >
                  <a href="docs-rstest-bdd-limitations-and-roadmap.html">Limitations and roadmap</a>
                </h3>
              </div>
              <div class="doc-nav-group" aria-label="Assertion macros">
                <h3 class="doc-nav-group__title " >
                  <a href="docs-rstest-bdd-assertion-macros.html">Assertion macros</a>
                </h3>
              </div>
              <div class="doc-nav-group" aria-label="Internationalization and localization">
                <h3 class="doc-nav-group__title " >
                  <a href="docs-rstest-bdd-internationalization-and-localization.html">Internationalization and localization</a>
                </h3>
                  <ul class="doc-nav__list" role="list">
                      <li>
                        <a href="docs-rstest-bdd-internationalization-and-localization.html#internationalization-and-localization-writing-feature-files-in-other-languages"
                           class="doc-nav__link "
>
                          <span>Writing feature files in other languages</span>
                        </a>
                      </li>
                      <li>
                        <a href="docs-rstest-bdd-internationalization-and-localization.html#internationalization-and-localization-localizing-runtime-diagnostics"
                           class="doc-nav__link "
>
                          <span>Localizing runtime diagnostics</span>
                        </a>
                      </li>
                  </ul>
              </div>
              <div class="doc-nav-group" aria-label="Diagnostic tooling">
                <h3 class="doc-nav-group__title " >
                  <a href="docs-rstest-bdd-diagnostic-tooling.html">Diagnostic tooling</a>
                </h3>
                  <ul class="doc-nav__list" role="list">
                      <li>
                        <a href="docs-rstest-bdd-diagnostic-tooling.html#diagnostic-tooling-scenario-report-writers"
                           class="doc-nav__link "
>
                          <span>Scenario report writers</span>
                        </a>
                      </li>
                  </ul>
              </div>
              <div class="doc-nav-group" aria-label="Summary">
                <h3 class="doc-nav-group__title " >
                  <a href="docs-rstest-bdd-summary.html">Summary</a>
                </h3>
              </div>
          </div>
          <div>
            <p class="doc-sidebar__section-label">Source</p>
            <a class="inline-flex items-center gap-2 font-semibold text-primary" href="https://raw.githubusercontent.com/leynos/rstest-bdd/refs/tags/v0.1.0/docs/users-guide.md" target="_blank" rel="noopener">
              View markdown
              <iconify-icon icon="carbon:arrow-up-right" aria-hidden="true"></iconify-icon>
            </a>
            <p class="mt-1 text-xs text-base-content/60">Source material</p>
          </div>
        </div>
      </aside>

      <section class="space-y-6" id="binding-tests-to-scenarios">
        <nav class="doc-mobile-nav" aria-labelledby="mobile-sections-label">
          <p id="mobile-sections-label" class="doc-sidebar__section-label">Contents</p>
          <ul class="doc-nav__list doc-nav__list--mobile" role="list">
              <li class="doc-nav-group">
                <h3 class="doc-nav-group__title">Introduction</h3>
                <ul class="doc-nav__list doc-nav__list--mobile" role="list">
                    <li>
                      <a href="docs-rstest-bdd-introduction.html" class="doc-nav__link">Introduction</a>
                    </li>
                </ul>
              </li>
              <li class="doc-nav-group">
                <h3 class="doc-nav-group__title">Toolchain requirements</h3>
                <ul class="doc-nav__list doc-nav__list--mobile" role="list">
                    <li>
                      <a href="docs-rstest-bdd-toolchain-requirements.html" class="doc-nav__link">Toolchain requirements</a>
                    </li>
                </ul>
              </li>
              <li class="doc-nav-group">
                <h3 class="doc-nav-group__title">The three amigos</h3>
                <ul class="doc-nav__list doc-nav__list--mobile" role="list">
                    <li>
                      <a href="docs-rstest-bdd-the-three-amigos.html" class="doc-nav__link">The three amigos</a>
                    </li>
                </ul>
              </li>
              <li class="doc-nav-group">
                <h3 class="doc-nav-group__title">Gherkin feature files</h3>
                <ul class="doc-nav__list doc-nav__list--mobile" role="list">
                    <li>
                      <a href="docs-rstest-bdd-gherkin-feature-files.html" class="doc-nav__link">Gherkin feature files</a>
                    </li>
                    <li>
                      <a href="docs-rstest-bdd-gherkin-feature-files.html#gherkin-feature-files-example-feature-file" class="doc-nav__link">Example feature file</a>
                    </li>
                    <li>
                      <a href="docs-rstest-bdd-gherkin-feature-files.html#gherkin-feature-files-internationalised-scenarios" class="doc-nav__link">Internationalised scenarios</a>
                    </li>
                </ul>
              </li>
              <li class="doc-nav-group">
                <h3 class="doc-nav-group__title">Step definitions</h3>
                <ul class="doc-nav__list doc-nav__list--mobile" role="list">
                    <li>
                      <a href="docs-rstest-bdd-step-definitions.html" class="doc-nav__link">Step definitions</a>
                    </li>
                    <li>
                      <a href="docs-rstest-bdd-step-definitions.html#step-definitions-fixtures-and-implicit-injection" class="doc-nav__link">Fixtures and implicit injection</a>
                    </li>
                    <li>
                      <a href="docs-rstest-bdd-step-definitions.html#step-definitions-step-return-values" class="doc-nav__link">Step return values</a>
                    </li>
                    <li>
                      <a href="docs-rstest-bdd-step-definitions.html#step-definitions-struct-based-step-arguments" class="doc-nav__link">Struct-based step arguments</a>
                    </li>
                    <li>
                      <a href="docs-rstest-bdd-step-definitions.html#step-definitions-scenario-state-slots" class="doc-nav__link">Scenario state slots</a>
                    </li>
                    <li>
                      <a href="docs-rstest-bdd-step-definitions.html#step-definitions-implicit-fixture-injection" class="doc-nav__link">Implicit fixture injection</a>
                    </li>
                    <li>
                      <a href="docs-rstest-bdd-step-definitions.html#step-definitions-inferred-step-patterns" class="doc-nav__link">Inferred step patterns</a>
                    </li>
                </ul>
              </li>
              <li class="doc-nav-group">
                <h3 class="doc-nav-group__title">Binding tests to scenarios</h3>
                <ul class="doc-nav__list doc-nav__list--mobile" role="list">
                    <li>
                      <a href="docs-rstest-bdd-binding-tests-to-scenarios.html" class="doc-nav__link">Binding tests to scenarios</a>
                    </li>
                    <li>
                      <a href="docs-rstest-bdd-binding-tests-to-scenarios.html#binding-tests-to-scenarios-skipping-scenarios" class="doc-nav__link">Skipping scenarios</a>
                    </li>
                </ul>
              </li>
              <li class="doc-nav-group">
                <h3 class="doc-nav-group__title">Autodiscovering scenarios</h3>
                <ul class="doc-nav__list doc-nav__list--mobile" role="list">
                    <li>
                      <a href="docs-rstest-bdd-autodiscovering-scenarios.html" class="doc-nav__link">Autodiscovering scenarios</a>
                    </li>
                </ul>
              </li>
              <li class="doc-nav-group">
                <h3 class="doc-nav-group__title">Running and maintaining tests</h3>
                <ul class="doc-nav__list doc-nav__list--mobile" role="list">
                    <li>
                      <a href="docs-rstest-bdd-running-and-maintaining-tests.html" class="doc-nav__link">Running and maintaining tests</a>
                    </li>
                </ul>
              </li>
              <li class="doc-nav-group">
                <h3 class="doc-nav-group__title">Data tables and Docstrings</h3>
                <ul class="doc-nav__list doc-nav__list--mobile" role="list">
                    <li>
                      <a href="docs-rstest-bdd-data-tables-and-docstrings.html" class="doc-nav__link">Data tables and Docstrings</a>
                    </li>
                    <li>
                      <a href="docs-rstest-bdd-data-tables-and-docstrings.html#data-tables-and-docstrings-debugging-data-table-errors" class="doc-nav__link">Debugging data table errors</a>
                    </li>
                </ul>
              </li>
              <li class="doc-nav-group">
                <h3 class="doc-nav-group__title">Limitations and roadmap</h3>
                <ul class="doc-nav__list doc-nav__list--mobile" role="list">
                    <li>
                      <a href="docs-rstest-bdd-limitations-and-roadmap.html" class="doc-nav__link">Limitations and roadmap</a>
                    </li>
                </ul>
              </li>
              <li class="doc-nav-group">
                <h3 class="doc-nav-group__title">Assertion macros</h3>
                <ul class="doc-nav__list doc-nav__list--mobile" role="list">
                    <li>
                      <a href="docs-rstest-bdd-assertion-macros.html" class="doc-nav__link">Assertion macros</a>
                    </li>
                </ul>
              </li>
              <li class="doc-nav-group">
                <h3 class="doc-nav-group__title">Internationalization and localization</h3>
                <ul class="doc-nav__list doc-nav__list--mobile" role="list">
                    <li>
                      <a href="docs-rstest-bdd-internationalization-and-localization.html" class="doc-nav__link">Internationalization and localization</a>
                    </li>
                    <li>
                      <a href="docs-rstest-bdd-internationalization-and-localization.html#internationalization-and-localization-writing-feature-files-in-other-languages" class="doc-nav__link">Writing feature files in other languages</a>
                    </li>
                    <li>
                      <a href="docs-rstest-bdd-internationalization-and-localization.html#internationalization-and-localization-localizing-runtime-diagnostics" class="doc-nav__link">Localizing runtime diagnostics</a>
                    </li>
                </ul>
              </li>
              <li class="doc-nav-group">
                <h3 class="doc-nav-group__title">Diagnostic tooling</h3>
                <ul class="doc-nav__list doc-nav__list--mobile" role="list">
                    <li>
                      <a href="docs-rstest-bdd-diagnostic-tooling.html" class="doc-nav__link">Diagnostic tooling</a>
                    </li>
                    <li>
                      <a href="docs-rstest-bdd-diagnostic-tooling.html#diagnostic-tooling-scenario-report-writers" class="doc-nav__link">Scenario report writers</a>
                    </li>
                </ul>
              </li>
              <li class="doc-nav-group">
                <h3 class="doc-nav-group__title">Summary</h3>
                <ul class="doc-nav__list doc-nav__list--mobile" role="list">
                    <li>
                      <a href="docs-rstest-bdd-summary.html" class="doc-nav__link">Summary</a>
                    </li>
                </ul>
              </li>
          </ul>
        </nav>

        <header class="doc-hero" id="doc-title">
          <h1 class="doc-hero__title">Binding tests to scenarios</h1>
          <div class="doc-meta-list">
              <span class="doc-meta-list__item">Version 0.1.0</span>
            <span class="doc-meta-list__item">Updated Nov 08, 2025</span>
          </div>
        </header>

        <article class="doc-article">
              <section class="doc-section">
                <div class="doc-prose"><p>The <code>#[scenario]</code> macro is the entry point that ties a Rust test function to a
scenario defined in a <code>.feature</code> file. It accepts four arguments:</p>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Purpose</th>
<th>Status</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>path: &amp;str</code></td>
<td>Relative path to the feature file (required).</td>
<td><strong>Implemented</strong>: resolved and parsed at compile time.</td>
</tr>
<tr>
<td><code>index: usize</code></td>
<td>Optional zero-based scenario index (defaults to <code>0</code>).</td>
<td><strong>Implemented</strong>: selects the scenario by position.</td>
</tr>
<tr>
<td><code>name: &amp;str</code></td>
<td>Optional scenario title; resolves when unique.</td>
<td><strong>Implemented</strong>: errors when missing and directs duplicates to <code>index</code>.</td>
</tr>
<tr>
<td><code>tags: &amp;str</code></td>
<td>Optional tag-expression filter applied at expansion.</td>
<td><strong>Implemented</strong>: filters scenarios and outline example rows; errors when nothing matches.</td>
</tr>
</tbody>
</table>
<p>Tag filters run at macro-expansion time against the union of tags on the
feature, the matched scenario, and—when dealing with <code>Scenario Outline</code>—the
<code>Examples:</code> block that produced each generated row. Expressions support the
operators <code>and</code>, <code>or</code>, and <code>not</code> (case-insensitive) and respect the precedence
<code>not</code> &gt; <code>and</code> &gt; <code>or</code>; parentheses may be used to override this ordering. Tags
include the leading <code>@</code>. When the filter is combined with <code>index</code> or <code>name</code>,
the macro emits a compile error if the selected scenario does not satisfy the
expression.</p>
<div class="codehilite" data-language="rust"><pre><span></span><code><span class="p">#</span><span class="w"> </span><span class="k">use</span><span class="w"> </span><span class="n">rstest_bdd_macros</span><span class="p">::</span><span class="n">scenario</span><span class="p">;</span>
<span class="cp">#[scenario(path = </span><span class="s">&quot;features/search.feature&quot;</span><span class="cp">, tags = </span><span class="s">&quot;@fast and not @wip&quot;</span><span class="cp">)]</span>
<span class="k">fn</span><span class="w"> </span><span class="nf">smoke_test</span><span class="p">()</span><span class="w"> </span><span class="p">{}</span>
</code></pre></div>

<p>If the feature file cannot be found or contains invalid Gherkin, the macro
emits a compile-time error with the offending path.</p>
<p>When <code>name</code> is provided, the macro matches the title case-sensitively. A
missing title triggers a diagnostic listing the available headings in the
feature. Duplicate titles yield a diagnostic that highlights the conflict and
lists the matching indexes and line numbers, enabling selection by the <code>index</code>
argument when required.</p>
<p>During macro expansion, the feature file is read and parsed. The macro
generates a new test function annotated with <code>#[rstest::rstest]</code> that performs
the following steps:</p>
<ol>
<li>
<p>Build a <code>StepContext</code> and insert the test’s fixture arguments into it.</p>
</li>
<li>
<p>For each step in the scenario (according to the <code>Given‑When‑Then</code> sequence),
   look up a matching step function by <code>(keyword, pattern)</code> in the registry. A
   missing step causes the macro to emit a compile‑time error such as
   <code>No matching step definition found for: Given an undefined step</code>, allowing
   detection of incomplete implementations before tests run. Multiple matching
   definitions likewise produce an error.</p>
</li>
<li>
<p>Invoke the registered step function with the <code>StepContext</code> so that fixtures
   are available inside the step.</p>
</li>
<li>
<p>After executing all steps, run the original test body. This block can
   include extra assertions or cleanup logic beyond the behaviour described in
   the feature.</p>
</li>
</ol>
<p>Because the generated code uses <code>#[rstest::rstest]</code>, it integrates seamlessly
with <code>rstest</code> features such as parameterized tests and asynchronous fixtures.
Tests are still discovered and executed by the standard Rust test runner, so
one may filter or run them in parallel as usual.</p></div>
              </section>
                <section id="binding-tests-to-scenarios-skipping-scenarios" class="doc-section">
                  <div class="doc-section__heading">
                    <h2>Skipping scenarios</h2>
                  </div>
                  <div class="doc-prose"><p>Steps or hooks may call <code>rstest_bdd::skip!</code> to stop executing the remaining
steps. The macro records a <code>Skipped</code> outcome and short-circuits the scenario so
the generated test returns before evaluating the annotated function body.
Invoke <code>skip!()</code> with no arguments to record a skipped outcome without a
message. Pass an optional string to describe the reason, and use the standard
<code>format!</code> syntax to interpolate values when needed. Set the
<code>RSTEST_BDD_FAIL_ON_SKIPPED</code> environment variable to <code>1</code>, or call
<code>rstest_bdd::config::set_fail_on_skipped(true)</code>, to escalate skipped scenarios
into test failures unless the feature or scenario carries an <code>@allow_skipped</code>
tag. (Example-level tags are not yet evaluated.)</p>
<div class="codehilite" data-language="rust"><pre><span></span><code><span class="p">#</span><span class="w"> </span><span class="k">use</span><span class="w"> </span><span class="n">rstest_bdd</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">bdd</span><span class="p">;</span>
<span class="p">#</span><span class="w"> </span><span class="k">use</span><span class="w"> </span><span class="n">rstest_bdd_macros</span><span class="p">::{</span><span class="n">given</span><span class="p">,</span><span class="w"> </span><span class="n">scenario</span><span class="p">};</span>

<span class="cp">#[given(</span><span class="s">&quot;a dependent service is unavailable&quot;</span><span class="cp">)]</span>
<span class="k">fn</span><span class="w"> </span><span class="nf">service_unavailable</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">bdd</span><span class="p">::</span><span class="n">skip</span><span class="o">!</span><span class="p">(</span><span class="s">&quot;service still provisioning&quot;</span><span class="p">);</span>
<span class="p">}</span>

<span class="cp">#[given(</span><span class="s">&quot;a maintenance window is scheduled&quot;</span><span class="cp">)]</span>
<span class="k">fn</span><span class="w"> </span><span class="nf">maintenance_window</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="n">component</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;billing&quot;</span><span class="p">;</span>
<span class="w">    </span><span class="n">bdd</span><span class="p">::</span><span class="n">skip</span><span class="o">!</span><span class="p">(</span>
<span class="w">        </span><span class="s">&quot;{component} maintenance in progress&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="n">component</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">component</span><span class="p">,</span>
<span class="w">    </span><span class="p">);</span>
<span class="p">}</span>

<span class="cp">#[scenario(path = </span><span class="s">&quot;features/unhappy_path.feature&quot;</span><span class="cp">)]</span>
<span class="k">fn</span><span class="w"> </span><span class="nf">resilience_test</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="fm">panic!</span><span class="p">(</span><span class="s">&quot;scenario body is skipped&quot;</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>

<p>When <code>fail_on_skipped</code> is enabled, apply <code>@allow_skipped</code> to the feature or the
scenario to document that the skip is expected:</p>
<div class="codehilite" data-language="gherkin"><pre><span></span><code><span class="nt">@allow_skipped</span>
<span class="k">Scenario:</span><span class="nf"> Behaviour pending external contract</span>
<span class="k">  Given </span><span class="nf">a dependent service is unavailable</span>
</code></pre></div></div>
                </section>
        </article>
      </section>
    </div>
  </main>

  <footer id="footer" class="site-footer">
    <div class="site-footer__grid site-footer__grid--docs">
      <div>
        <p class="site-footer__brand">df12 Productions</p>
        <p class="site-footer__text">Serious systems, playful worlds. We ship tools that cut build times and stories that map the human edge of complex networks.</p>
      </div>
      <div>
        <h3>OSS &amp; Licences</h3>
        <ul class="site-footer__list">
          <li><a class="footer-link" href="https://github.com/leynos/limela/blob/main/LICENSE" target="_blank" rel="noopener noreferrer">Limela — licence</a></li>
          <li><a class="footer-link" href="https://github.com/leynos/netsuke/blob/main/LICENSE" target="_blank" rel="noopener noreferrer">Netsuke — licence</a></li>
          <li><a class="footer-link" href="https://github.com/leynos/mxd/blob/main/LICENSE" target="_blank" rel="noopener noreferrer">mxd — licence</a></li>
          <li><a class="footer-link" href="https://github.com/leynos/episodic/blob/main/LICENSE" target="_blank" rel="noopener noreferrer">Episodic — licence</a></li>
        </ul>
      </div>
      <div>
        <h3>Stay in touch</h3>
        <ul class="site-footer__list">
          <li><a class="footer-link" data-variant="accent" href="mailto:hello@df12.studio">hello@df12.studio</a></li>
          <li>
            <a class="footer-link" data-variant="accent" href="https://github.com/leynos" target="_blank" rel="noopener noreferrer">
              <iconify-icon icon="carbon:logo-github" class="h-4 w-4" aria-hidden="true"></iconify-icon>
              GitHub
            </a>
          </li>
          <li>
            <a class="footer-link" data-variant="accent" href="https://bsky.app/profile/df12.studio" target="_blank" rel="noopener noreferrer">
              <iconify-icon icon="carbon:logo-bluesky" class="h-4 w-4" aria-hidden="true"></iconify-icon>
              Bluesky
            </a>
          </li>
        </ul>
        <p class="site-footer__closing">Built for curious builders and storytellers everywhere. ©&nbsp;2025&nbsp;df12&nbsp;Productions.</p>
      </div>
    </div>
  </footer>

  <script>
    (() => {
      const blocks = document.querySelectorAll('.codehilite');
      if (!blocks.length) {
        return;
      }

      const formatLanguage = (raw) => {
        const value = (raw || '').trim();
        if (!value || value.toLowerCase() === 'text') {
          return 'Plain Text';
        }
        return value
          .replace(/[._-]+/g, ' ')
          .replace(/\b\w/g, (char) => char.toUpperCase());
      };

      const writeClipboard = async (text) => {
        if (!text) {
          return false;
        }
        try {
          if (navigator.clipboard?.writeText) {
            await navigator.clipboard.writeText(text);
            return true;
          }
        } catch (error) {
          /* fall back */
        }

        try {
          const textarea = document.createElement('textarea');
          textarea.value = text;
          textarea.setAttribute('readonly', 'readonly');
          textarea.style.position = 'absolute';
          textarea.style.left = '-9999px';
          document.body.appendChild(textarea);
          textarea.select();
          const success = document.execCommand('copy');
          document.body.removeChild(textarea);
          return success;
        } catch (error) {
          return false;
        }
      };

      blocks.forEach((block) => {
        if (block.dataset.enhanced === 'true') {
          return;
        }
        const pre = block.querySelector('pre');
        const code = block.querySelector('code') || pre;
        if (!pre || !code) {
          return;
        }

        block.dataset.enhanced = 'true';

        const chrome = document.createElement('div');
        chrome.className = 'codehilite__chrome';

        const languageLabel = document.createElement('span');
        languageLabel.className = 'codehilite__language';
        const lang = block.dataset.language || '';
        const readableLang = formatLanguage(lang);
        languageLabel.textContent = readableLang;

        const copyButton = document.createElement('button');
        copyButton.type = 'button';
        copyButton.className = 'codehilite__copy';
        copyButton.setAttribute('aria-label', `Copy ${readableLang} code snippet`);
        copyButton.innerHTML = `
          <span class="codehilite__copy-icon" aria-hidden="true">
            <iconify-icon icon="carbon:copy" class="h-4 w-4"></iconify-icon>
          </span>
          <span class="codehilite__copy-text">Copy</span>
        `;

        chrome.appendChild(languageLabel);
        chrome.appendChild(copyButton);
        block.insertBefore(chrome, pre);

        const copyTextLabel = copyButton.querySelector('.codehilite__copy-text');
        let resetTimer;

        copyButton.addEventListener('click', async () => {
          const textContent = code.textContent || '';
          const didCopy = await writeClipboard(textContent.trimEnd());
          if (!didCopy) {
            let selectionApplied = false;
            if (window.getSelection && document.createRange) {
              const selection = window.getSelection();
              if (selection) {
                try {
                  const range = document.createRange();
                  range.selectNodeContents(code);
                  selection.removeAllRanges();
                  selection.addRange(range);
                  selectionApplied = true;
                  const focusTarget = block.querySelector('pre');
                  if (focusTarget) {
                    if (focusTarget.tabIndex < 0) {
                      focusTarget.tabIndex = -1;
                    }
                    focusTarget.focus({ preventScroll: true });
                  }
                } catch (err) {
                  selectionApplied = false;
                }
              }
            }
            if (copyTextLabel) {
              copyTextLabel.textContent = selectionApplied
                ? 'Press ⌘/Ctrl+C'
                : 'Select the code and press ⌘/Ctrl+C';
            }
            clearTimeout(resetTimer);
            resetTimer = setTimeout(() => {
              copyButton.removeAttribute('data-state');
              if (copyTextLabel) {
                copyTextLabel.textContent = 'Copy';
              }
            }, 2500);
            return;
          }
          copyButton.dataset.state = 'copied';
          if (copyTextLabel) {
            copyTextLabel.textContent = 'Copied';
          }
          clearTimeout(resetTimer);
          resetTimer = setTimeout(() => {
            copyButton.removeAttribute('data-state');
            if (copyTextLabel) {
              copyTextLabel.textContent = 'Copy';
            }
          }, 2500);
        });
      });
    })();
  </script>
<script
  src="https://code.iconify.design/iconify-icon/2.1.0/iconify-icon.min.js"
  defer
  integrity="sha384-GPb5RlngihS9H0z1D137JsvzmeZ7tCpWEF4t5YDoTZyMsPP8S7h7vFDh4XhheU83"
  crossorigin="anonymous"
></script>
</body>
</html>