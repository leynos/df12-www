/* Tailwind v4 core */
@import "tailwindcss";

/* daisyUI v5 plugin */
@plugin "daisyui" {
  themes:
    df12 --default,
    dracula --prefersdark;
  logs: false;
}

@plugin "@tailwindcss/typography";
@plugin "./plugins/doc-inline-code.js";

@theme {
  --font-sans: "Inter", system-ui, -apple-system, "Segoe UI", sans-serif;
  --font-mono: "IBM Plex Mono", ui-monospace, SFMono-Regular, Menlo, monospace;
  --container-7xl: 96rem;
}

@layer base {
  :root {
    --focus-ring-color: #ff00ff;
  }

  body {
    background-color: #f3f4f6;
    background-image: url("data:image/svg+xml,%3Csvg width='6' height='6' viewBox='0 0 6 6' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='%239C92AC' fill-opacity='0.1' fill-rule='evenodd'%3E%3Cpath d='M5 0h1L0 6V5zM6 5v1H5z'/%3E%3C/g%3E%3C/svg%3E");
    @apply font-sans tracking-tight text-base-content;
  }

  a:focus-visible,
  button:focus-visible,
  [role="button"]:focus-visible {
    outline: 3px solid var(--focus-ring-color);
    outline-offset: 4px;
  }
}

@layer components {
  .doc-page {
    @apply text-base-content antialiased;
    background-color: #fff;
    background-image: none;
  }

  .layout-shell--docs {
    @apply mx-auto w-full;
    max-width: var(--container-7xl, 96rem);
  }

  .doc-grid {
    @apply grid gap-4 lg:grid-cols-[220px_minmax(0,1fr)];
  }

  .doc-sidebar {
    @apply hidden self-start lg:block;
    width: 16rem;
  }

  .doc-sidebar__panel {
    @apply sticky top-28 flex flex-col gap-6 text-sm text-base-content/70;
  }

  .doc-sidebar__eyebrow {
    @apply font-mono text-xs uppercase tracking-[0.12em] text-base-content/60;
  }

  .doc-sidebar__title {
    @apply mt-1 font-mono text-xl font-bold text-base-content;
  }

  .doc-sidebar__body {
    @apply mt-2 text-base-content/70;
  }

  .doc-sidebar__section-label {
    @apply font-mono text-[0.65rem] uppercase tracking-[0.08em] text-base-content/50;
  }

  .doc-sidebar__back {
    @apply inline-flex items-center gap-2 text-sm text-base-content/70 transition-colors hover:text-base-content;
  }

  .doc-sidebar__back svg {
    @apply h-3 w-3;
  }

  .doc-nav__list {
    @apply mt-3 space-y-1;
  }

  .doc-nav__link {
    @apply flex flex-col gap-1 border-l-2 border-transparent text-sm text-base-content/70 transition hover:border-base-200 hover:text-base-content;
    padding-inline-start: 0.75rem;
    font-weight: var(--font-weight-medium, 500);
  }

  .doc-nav__link--active {
    @apply border-base-content text-base-content;
  }

  .doc-nav__link [data-label] {
    @apply font-mono text-[0.55rem] uppercase tracking-[0.4em] text-base-content/50;
  }

  .doc-nav__link[aria-current="page"] {
    @apply border-primary text-base-content;
  }

  .doc-outline {
    @apply mt-3 space-y-1 text-sm text-base-content/70;
  }

  .doc-outline__link {
    @apply flex items-center gap-2 rounded-lg px-2 py-1 text-sm transition hover:text-base-content;
  }

  .doc-outline__dot {
    @apply h-1.5 w-1.5 rounded-full bg-base-content/30;
  }

  .doc-sidebar__groups {
    @apply space-y-6;
  }

  .doc-nav-group {
    @apply space-y-2;
  }

  .doc-nav-group__title {
    @apply font-mono text-sm font-semibold uppercase tracking-tight text-base-content;
  }

  .doc-nav-group__title.is-active {
    @apply text-base-content;
  }

  .doc-nav__list--mobile {
    @apply mt-2 space-y-1;
  }

  .doc-mobile-nav {
    @apply border-t border-base-200 pt-6 lg:hidden;
  }

  .doc-mobile-nav + .doc-mobile-nav {
    @apply mt-6;
  }

  .doc-hero {
    @apply pb-8;
  }

  .doc-hero__eyebrow {
    @apply font-mono text-xs uppercase tracking-[0.45em] text-primary;
  }

  .doc-hero__title {
    @apply mt-4 font-mono text-4xl font-bold text-base-content md:text-5xl;
  }

  .doc-meta-list {
    @apply mt-6 flex flex-wrap gap-4 text-xs font-mono uppercase tracking-[0.08em] text-base-content/60;
  }

  .doc-meta-list__item {
    @apply whitespace-nowrap;
  }

  .doc-meta-list__link {
    @apply text-primary underline-offset-4 hover:underline;
  }

  .doc-article {
    @apply space-y-12;
  }

  .doc-section {
    @apply space-y-4;
  }

  .doc-section + .doc-section {
    @apply border-t border-base-200 pt-10;
  }

  .doc-section__heading {
    @apply flex items-center gap-3;
  }

  .doc-section__heading h2 {
    @apply font-mono text-2xl font-bold text-base-content;
  }

  .doc-prose {
    @apply prose prose-base max-w-none text-base-content/80;
  }

  .doc-prose :where(h2, h3, h4) {
    @apply font-mono text-base-content;
  }


  .doc-prose pre {
    @apply rounded-xl border border-neutral bg-neutral text-neutral-content p-5 shadow-lg shadow-neutral/40;
  }

  .doc-prose pre code {
    @apply bg-transparent p-0 text-neutral-content;
  }

  .doc-steps {
    @apply space-y-8;
  }

  .doc-step {
    @apply border-l-4 border-base-300 pl-6;
  }

  .doc-step__index {
    @apply font-mono text-xs uppercase tracking-[0.4em] text-base-content/60;
  }

  .doc-step__title {
    @apply font-mono text-xl font-semibold text-base-content;
  }

  .doc-split {
    @apply grid gap-8 lg:grid-cols-2;
  }

  .doc-split__panel {
    @apply space-y-6;
  }

  .doc-split__panel--code {
    @apply rounded-xl border border-neutral bg-neutral px-5 py-4 text-neutral-content shadow-lg shadow-neutral/40;
  }

  .doc-footer {
    @apply border-t border-base-200 pt-6 text-sm text-base-content/70;
  }

  .skip-link {
    position: absolute;
    left: -999px;
    top: 1rem;
    padding: 0.75rem 1.5rem;
    background: #111111;
    color: #f3f4f6;
    border-radius: 0.75rem;
    font-family: var(--font-sans);
    font-weight: 600;
    z-index: 1000;
    transition:
      transform 0.2s ease,
      opacity 0.2s ease;
    opacity: 0;
  }

  .skip-link:focus-visible {
    left: 1rem;
    transform: translateY(0);
    opacity: 1;
  }

  .sr-only-focusable {
    @apply sr-only focus:not-sr-only;
  }

  .eyebrow {
    @apply font-mono text-sm uppercase tracking-[0.35em] text-base-content/60;
  }

  .brand-lockup {
    @apply bg-neutral px-12 py-6 shadow-lg shadow-neutral/40;
  }

  .hero-title {
    @apply text-4xl font-bold leading-[1.05] md:text-6xl;
  }

  .cta {
    @apply inline-flex items-center justify-center rounded-xl px-10 py-4 font-mono text-lg font-bold;
  }

  .cta-primary {
    @apply bg-primary text-primary-content;
  }

  .cta-secondary {
    @apply border border-primary bg-white text-primary hover:bg-primary/10;
  }

  .section-title {
    @apply font-mono text-3xl font-bold text-base-content md:text-4xl;
  }

  .section-kicker {
    @apply font-mono italic text-base-content/80 md:text-xl;
  }

  .nav-link {
    @apply font-mono text-sm text-base-content/70 transition-colors duration-200;
  }

  [aria-current="page"].nav-link {
    @apply text-primary underline decoration-dotted underline-offset-4;
  }

  .nav-link[data-variant="primary"]:hover,
  .nav-link:not([data-variant]):hover {
    @apply text-primary;
  }

  .nav-link[data-variant="accent"]:hover {
    @apply text-accent;
  }

  .nav-link[data-variant="neutral"]:hover {
    @apply text-primary;
  }

  .site-main {
    @apply pb-24;
  }

  .site-main--home {
    @apply flex flex-col pt-32;
  }

  .site-main--docs-index {
    @apply flex flex-col pt-28;
  }

  .site-main--doc {
    @apply px-4 pt-32;
  }

  .site-header {
    @apply fixed inset-x-0 top-0 z-50 border-b border-base-200 bg-base-100/80 backdrop-blur;
  }

  @supports (backdrop-filter: blur(0.5rem)) {
    .site-header {
      @apply bg-base-100/60;
    }
  }

  .site-header__inner {
    @apply flex w-full items-center justify-between px-4 py-4 md:px-8;
  }

  .site-header__brand {
    @apply inline-flex items-center gap-3 font-mono text-lg font-bold uppercase tracking-[0.35em] text-base-content;
  }

  .site-header__logo-mark {
    @apply flex h-9 w-9 items-center justify-center transition-transform duration-300;
    transform: rotate(0deg);
  }

  .group:hover .site-header__logo-mark,
  .group:focus-visible .site-header__logo-mark {
    transform: rotate(45deg);
  }

  .site-header__nav {
    @apply hidden items-center gap-8 md:flex;
  }

  .site-header__menu-button {
    @apply font-mono uppercase tracking-[0.3em];
  }

  .site-header__mobile-link {
    @apply w-full justify-start;
  }

  .product-card {
    @apply relative block h-full rounded-2xl border border-base-300 bg-white px-8 py-11;
  }

  .product-card__content {
    @apply flex h-full items-start gap-4;
  }

  .product-logo {
    @apply h-8 w-8;
  }

  .product-logo--limela {
    transform-origin: 50% 50%;
  }

  .group:hover .product-logo--limela,
  .group:focus-visible .product-logo--limela {
    animation: limelaOrbit 3.2s ease-in-out infinite;
  }

  .group:hover .product-logo--netsuke .product-logo__netsuke-bead,
  .group:focus-visible .product-logo--netsuke .product-logo__netsuke-bead {
    animation: netsukeSlide 1.6s ease-in-out infinite;
  }

  .group:hover .product-logo--mxd .product-logo__mxd-center,
  .group:focus-visible .product-logo--mxd .product-logo__mxd-center {
    transform-origin: 50% 50%;
    animation: mxdPulse 1.8s ease-in-out infinite;
  }

  .product-logo--episodic .product-logo__episodic-track {
    opacity: 0.7;
  }

  .group:hover .product-logo--episodic .product-logo__episodic-track,
  .group:focus-visible .product-logo--episodic .product-logo__episodic-track {
    animation: episodicShimmer 1.4s ease-in-out infinite;
  }

  .group:hover .product-logo--episodic .product-logo__episodic-track--2,
  .group:focus-visible .product-logo--episodic .product-logo__episodic-track--2 {
    animation-delay: 0.12s;
  }

  .group:hover .product-logo--episodic .product-logo__episodic-track--3,
  .group:focus-visible .product-logo--episodic .product-logo__episodic-track--3 {
    animation-delay: 0.24s;
  }

  .product-card__title {
    @apply font-mono text-2xl font-bold text-base-content;
  }

  .product-card__meta {
    @apply mt-auto pt-6 inline-flex items-center gap-2 font-mono text-sm text-primary;
  }

  .world-card {
    @apply grid gap-10 rounded-2xl border border-accent/40 bg-neutral/60 px-8 py-11;
    container-type: inline-size;
    container-name: world-card;
  }

  .world-card__media {
    @apply h-64 overflow-hidden rounded-xl;
  }

  .world-card__body {
    @apply flex flex-col justify-center;
  }

  .world-card__header {
    @apply flex items-center gap-4;
  }

  .world-card__icon {
    @apply flex h-6 w-6 items-center justify-center text-accent;
  }

  .world-card__cta {
    @apply mt-6 inline-flex items-center gap-2 font-mono text-sm text-accent;
  }

  .world-card--media-after .world-card__media {
    order: 2;
  }

  .world-card--media-after .world-card__body {
    order: 1;
  }

  .site-footer {
    @apply border-t border-base-200 bg-base-100;
  }

  .site-footer__grid {
    @apply mx-auto grid max-w-6xl gap-12 px-6 py-16 md:grid-cols-3 md:px-16;
  }

  .site-footer__grid--docs {
    width: 100%;
    max-width: var(--container-7xl, 96rem);
  }

  .site-footer__brand {
    @apply font-mono text-sm font-semibold tracking-[0.3em] text-base-content/90;
  }

  .site-footer__text {
    @apply mt-4 text-sm text-base-content/90;
  }

  .site-footer__list {
    @apply mt-4 space-y-2 text-sm;
  }

  .site-footer__closing {
    @apply mt-4 text-xs text-base-content/80;
  }

  .footer-link {
    @apply inline-flex items-center gap-2;
  }

  #footer h2,
  #footer h3 {
    @apply font-mono text-sm font-semibold uppercase tracking-wide text-base-content/90;
  }

  #footer a.footer-link {
    @apply text-base-content/90 transition-colors duration-200;
  }

  #footer a.footer-link:hover {
    @apply text-primary;
  }

  #footer a.footer-link[data-variant="accent"]:hover {
    @apply text-accent;
  }
}

@layer utilities {
  .neon-pulse {
    animation: neonPulse 3s ease-in-out infinite;
    text-shadow: 0 0 0 rgba(255, 0, 255, 0.35);
  }

  .glyph {
    transition:
      transform 0.3s ease,
      fill 0.3s ease,
      stroke 0.3s ease;
    transform: rotate(0deg);
    transform-origin: 50% 50%;
  }

  .group:hover .glyph,
  .group:focus-visible .glyph {
    transform: rotate(45deg);
  }

  .glyph--system rect,
  .glyph--creative rect {
    fill: transparent;
  }

  .group:hover .glyph--system rect,
  .group:focus-visible .glyph--system rect {
    fill: rgba(8, 145, 178, 0.25);
  }

  .group:hover .glyph--creative rect,
  .group:focus-visible .glyph--creative rect {
    fill: rgba(255, 0, 255, 0.25);
  }

  .pressable {
    @apply transition duration-200 ease-out;
  }

  @media (prefers-reduced-motion: no-preference) {
    .pressable:hover {
      transform: translateY(-0.125rem);
    }
  }

  .pressable:hover {
    @apply shadow-xl;
  }

  .pressable:active {
    transform: translateY(0);
  }

  .pressable:focus-visible {
    @apply outline-none ring-4 ring-primary/30;
  }

  @media (prefers-reduced-motion: reduce) {
    .pressable {
      transition-duration: 0.001ms;
    }

    .pressable:hover,
    .pressable:active {
      transform: none;
    }
  }

  .hit-target {
    @apply inline-flex min-h-11 min-w-[44px] items-center px-2;
  }

  .cq {
    container-type: inline-size;
  }

  .layout-shell {
    @apply mx-auto max-w-6xl;
  }

  .layout-shell.layout-shell--docs {
    max-width: var(--container-7xl, 96rem);
  }

  .layout-shell.layout-shell--docs > section {
    margin-inline-start: 6rem;
  }

  .link-arrow {
    transition: transform 0.3s ease;
  }

  .group:hover .link-arrow,
  .group:focus-visible .link-arrow {
    transform: translateX(0.25rem);
  }
}

@plugin "daisyui/theme" {
  name: "df12";
  default: false;
  prefersdark: false;
  color-scheme: light;

  --color-primary: #005c73;
  --color-primary-content: #f4fdff;

  --color-secondary: #0f172a;
  --color-secondary-content: #f8fafc;

  --color-accent: #ff66ff;
  --color-accent-content: #2e1337;

  --color-neutral: #111111;
  --color-neutral-content: #f5f5f5;

  --color-base-100: #f3f4f6;
  --color-base-200: #e5e7eb;
  --color-base-300: #d1d5db;
  --color-base-content: #111111;

  --color-info: #2563eb;
  --color-success: #16a34a;
  --color-warning: #d97706;
  --color-error: #dc2626;

  --radius-box: 1.5rem;
  --radius-btn: 0.9rem;
  --radius-badge: 1rem;
}

@container world-card (min-width: 48rem) {
  .world-card {
    grid-template-columns: 1fr 1fr;
  }

  .world-card__media {
    height: 20rem;
    order: 1;
  }

  .world-card__body {
    order: 2;
  }

  .world-card--media-after .world-card__media {
    order: 1;
  }

  .world-card--media-after .world-card__body {
    order: 2;
  }
}

@keyframes neonPulse {
  0%,
  100% {
    text-shadow: 0 0 0 rgba(255, 0, 255, 0.35);
  }

  50% {
    text-shadow: 0 0 12px rgba(255, 0, 255, 0.55);
  }
}

@keyframes limelaOrbit {
  0%,
  100% {
    transform: rotate(0deg);
  }

  50% {
    transform: rotate(15deg);
  }
}

@keyframes netsukeSlide {
  0%,
  100% {
    transform: translateX(0);
  }

  50% {
    transform: translateX(2px);
  }
}

@keyframes mxdPulse {
  0%,
  100% {
    transform: scale(1);
  }

  50% {
    transform: scale(1.15);
  }
}

@keyframes episodicShimmer {
  0%,
  100% {
    opacity: 0.6;
  }

  50% {
    opacity: 1;
  }
}

@media (prefers-reduced-motion: reduce) {
  .neon-pulse {
    animation: none;
    text-shadow: none;
  }

  .group:hover .product-logo--limela,
  .group:focus-visible .product-logo--limela,
  .group:hover .product-logo--netsuke .product-logo__netsuke-bead,
  .group:focus-visible .product-logo--netsuke .product-logo__netsuke-bead,
  .group:hover .product-logo--mxd .product-logo__mxd-center,
  .group:focus-visible .product-logo--mxd .product-logo__mxd-center,
  .group:hover .product-logo--episodic .product-logo__episodic-track,
  .group:focus-visible .product-logo--episodic .product-logo__episodic-track {
    animation: none;
    transform: none;
  }
}
