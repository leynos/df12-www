<!doctype html>
<html lang="en" data-theme="df12">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:wght@400;700&family=Inter:wght@400;600;700&display=swap" rel="stylesheet" />
  <link href="assets/site.css" rel="stylesheet" />
  <title>{{ homepage.title }}</title>
</head>
<body class="bg-base-100">
  {% from "partials/site_macros.jinja" import site_header, site_footer %}
  <a href="#main-content" class="skip-link sr-only-focusable">Skip to content</a>

{{ site_header('#hero', homepage.hero.brand_text, homepage.nav_links) | indent(2, true) }}

  <main id="main-content" class="site-main site-main--home">
    <section id="hero" class="flex min-h-[90vh] items-center justify-center px-6 text-center">
      <div class="flex max-w-4xl flex-col items-center gap-10">
          <div class="flex flex-col items-center gap-4">
            <div class="brand-lockup">
              <span class="font-mono text-7xl font-bold tracking-tight text-neutral-content md:text-8xl">{{ homepage.hero.brand_text }}</span>
            </div>
            <p class="eyebrow">{{ homepage.hero.eyebrow }}</p>
          </div>
        <h1 class="hero-title">
          {{ homepage.hero.title_primary }}<br class="hidden sm:block" />
          {{ homepage.hero.title_secondary }} <span class="text-accent neon-pulse">{{ homepage.hero.accent_text }}</span>
        </h1>
        <p class="max-w-2xl text-base-content/80 md:text-lg">
          {{ homepage.hero.description }}
        </p>
        <div class="flex flex-col items-center gap-6">
          <div class="h-0.5 w-48 border-b-2 border-dashed border-primary"></div>
          <div class="flex flex-col gap-4 sm:flex-row">
{% for cta in homepage.hero.ctas %}
            <a href="{{ cta.href }}" class="cta cta-{{ cta.variant }} pressable">
              {{ cta.label }}
            </a>
{% endfor %}
          </div>
        </div>
      </div>
    </section>

    <section id="systems" class="bg-white px-4 md:px-8">
      <div class="layout-shell py-20">
        <div class="text-center">
          <h2 class="section-title">{{ homepage.systems.heading }}</h2>
          <p class="mt-4 section-kicker">{{ homepage.systems.kicker }}</p>
        </div>
        <div class="mt-12 grid gap-8 md:grid-cols-2 lg:grid-cols-4">
{% for card in homepage.systems.cards %}
          <a href="{{ card.href }}"{% if card.external %} target="_blank" rel="noopener noreferrer"{% endif %} class="group product-card pressable">
            <div class="product-card__content">
              <div class="mt-1 flex-none text-primary">
{% if card.icon == 'limela' %}
                <svg class="product-logo product-logo--limela" width="32" height="32" viewBox="0 0 32 32" fill="none" aria-hidden="true">
                  <circle cx="10" cy="8" r="2" fill="currentColor" />
                  <circle cx="6" cy="13" r="2" fill="currentColor" />
                  <circle cx="8" cy="19" r="2" fill="currentColor" />
                  <circle cx="13" cy="23" r="2" fill="currentColor" />
                  <circle cx="19" cy="24" r="2" fill="currentColor" />
                  <circle cx="25" cy="22" r="2" fill="currentColor" />
                  <circle cx="28" cy="17" r="2" fill="currentColor" />
                </svg>
{% elif card.icon == 'netsuke' %}
                <svg class="product-logo product-logo--netsuke" width="32" height="32" viewBox="0 0 32 32" fill="none" aria-hidden="true">
                  <line x1="4" y1="16" x2="28" y2="16" stroke="currentColor" stroke-width="2" stroke-linecap="round" />
                  <circle class="product-logo__netsuke-bead" cx="16" cy="16" r="3" fill="currentColor" />
                </svg>
{% elif card.icon == 'mxd' %}
                <svg class="product-logo product-logo--mxd" width="32" height="32" viewBox="0 0 32 32" fill="none" aria-hidden="true">
                  <circle class="product-logo__mxd-center" cx="16" cy="16" r="2.5" fill="currentColor" />
                  <circle cx="8" cy="16" r="1.5" fill="currentColor" />
                  <circle cx="24" cy="16" r="1.5" fill="currentColor" />
                  <circle cx="16" cy="8" r="1.5" fill="currentColor" />
                  <circle cx="16" cy="24" r="1.5" fill="currentColor" />
                </svg>
{% elif card.icon == 'episodic' %}
                <svg class="product-logo product-logo--episodic" width="32" height="32" viewBox="0 0 32 32" fill="none" aria-hidden="true">
                  <line class="product-logo__episodic-track product-logo__episodic-track--1" x1="6" y1="10" x2="22" y2="10" stroke="currentColor" stroke-width="2" stroke-linecap="round" />
                  <line class="product-logo__episodic-track product-logo__episodic-track--2" x1="6" y1="16" x2="26" y2="16" stroke="currentColor" stroke-width="2" stroke-linecap="round" />
                  <line class="product-logo__episodic-track product-logo__episodic-track--3" x1="6" y1="22" x2="18" y2="22" stroke="currentColor" stroke-width="2" stroke-linecap="round" />
                  <circle cx="28" cy="16" r="2" fill="currentColor" />
                </svg>
{% endif %}
              </div>
              <div class="flex flex-1 flex-col">
                <h3 class="product-card__title">{{ card.label }}</h3>
                <p class="mt-3 text-base-content/80">{{ card.description }}</p>
                <span class="product-card__meta">
                  {{ card.meta_label }}
                  <iconify-icon icon="carbon:arrow-right" aria-hidden="true" class="link-arrow"></iconify-icon>
                </span>
              </div>
            </div>
          </a>
{% endfor %}
        </div>
      </div>
    </section>

    <section id="worlds" class="bg-neutral text-neutral-content">
      <div class="layout-shell px-4 py-24 md:px-8">
        <div class="text-center">
          <h2 class="section-title text-neutral-content">{{ homepage.worlds.heading }}</h2>
          <p class="mt-4 section-kicker text-neutral-content/90">{{ homepage.worlds.kicker }}</p>
        </div>
        <div class="mt-12 space-y-16">
{% for world in homepage.worlds.cards %}
          <a href="{{ world.href }}"{% if world.external %} target="_blank" rel="noopener noreferrer"{% endif %} class="{{ world.classes | join(' ') }}">
            <figure class="world-card__media">
              <picture>
                <source srcset="{{ world.image.avif }}" type="image/avif" />
                <source srcset="{{ world.image.webp }}" type="image/webp" />
                <img class="h-full w-full object-cover" src="{{ world.image.fallback }}" alt="{{ world.image.alt }}" loading="lazy" decoding="async" width="{{ world.image.width }}" height="{{ world.image.height }}" sizes="{{ world.image.sizes }}" />
              </picture>
            </figure>
            <div class="world-card__body">
              <div class="world-card__header">
                <span class="world-card__icon">
                  <svg width="24" height="24" viewBox="0 0 24 24" fill="none" class="glyph glyph--creative" aria-hidden="true">
                    <rect x="4" y="4" width="16" height="16" stroke="currentColor" stroke-width="2" />
                  </svg>
                </span>
                <h3 class="font-mono text-3xl font-bold">{{ world.label }}</h3>
              </div>
              <p class="mt-4 text-neutral-content/90">{{ world.description }}</p>
              <span class="world-card__cta">
                {{ world.cta_label }}
                <iconify-icon icon="carbon:arrow-right" aria-hidden="true" class="link-arrow"></iconify-icon>
              </span>
            </div>
          </a>
{% endfor %}
        </div>
      </div>
    </section>
  </main>

  {% set footer_closing = homepage.footer.closing_lede ~ ' Â©&nbsp;' ~ homepage.footer.copyright_year ~ '&nbsp;' ~ homepage.footer.site_name.replace(' ', '&nbsp;') ~ '.' %}
{{ site_footer(
  homepage.footer.site_name,
  homepage.footer.blurb,
  homepage.footer.oss_heading,
  homepage.footer.oss_links,
  homepage.footer.contact_heading,
  homepage.footer.contact_links,
  footer_closing
) | indent(2, true) }}
  <script>
    (() => {
      const initNavHighlight = () => {
        const navLinks = Array.from(document.querySelectorAll('[data-nav-target]'));
        if (!navLinks.length) {
          return;
        }

        const sectionMap = navLinks
          .map((link) => {
            const id = link.dataset.navTarget;
            const section = document.getElementById(id);
            return section ? { id, section } : null;
          })
          .filter(Boolean);

        if (!sectionMap.length) {
          return;
        }

        const setActive = (targetId) => {
          navLinks.forEach((link) => {
            const isActive = link.dataset.navTarget === targetId;
            link.classList.toggle('nav-link--active', isActive);
            if (isActive) {
              link.setAttribute('aria-current', 'page');
            } else {
              link.removeAttribute('aria-current');
            }
          });
        };

        if ('IntersectionObserver' in window) {
          const ratios = Object.fromEntries(sectionMap.map(({ id }) => [id, 0]));
          const observer = new IntersectionObserver(
            (entries) => {
              entries.forEach((entry) => {
                ratios[entry.target.id] = entry.intersectionRatio;
              });
              const [topEntry] = Object.entries(ratios).sort((a, b) => b[1] - a[1]);
              if (topEntry) {
                setActive(topEntry[0]);
              }
            },
            {
              rootMargin: '-35% 0px -50% 0px',
              threshold: [0, 0.25, 0.5, 0.75, 1],
            }
          );

          sectionMap.forEach(({ section }) => observer.observe(section));
        } else {
          const handleScroll = () => {
            const scrollPos = window.scrollY + window.innerHeight * 0.35;
            let current = sectionMap[0].id;
            sectionMap.forEach(({ id, section }) => {
              if (section.offsetTop <= scrollPos) {
                current = id;
              }
            });
            setActive(current);
          };
          window.addEventListener('scroll', handleScroll, { passive: true });
          handleScroll();
        }
      };

      window.addEventListener('load', initNavHighlight);
    })();
  </script>
  <script src="assets/components.js" defer></script>
  <script src="https://code.iconify.design/iconify-icon/2.1.0/iconify-icon.min.js" defer></script>
</body>
</html>
