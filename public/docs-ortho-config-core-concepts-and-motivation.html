<!doctype html>
<html lang="en" data-theme="df12">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:wght@400;700&family=Inter:wght@400;600;700&display=swap" rel="stylesheet" />
  <link href="assets/site.css" rel="stylesheet" />
  <title>df12 Productions — Core concepts and motivation | Ortho Config Docs</title>
  <style>
    pre { line-height: 125%; }
td.linenos .normal { color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px; }
span.linenos { color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px; }
td.linenos .special { color: #000000; background-color: #ffffc0; padding-left: 5px; padding-right: 5px; }
span.linenos.special { color: #000000; background-color: #ffffc0; padding-left: 5px; padding-right: 5px; }
.codehilite .hll { background-color: #49483e }
.codehilite { background: #272822; color: #F8F8F2 }
.codehilite .c { color: #959077 } /* Comment */
.codehilite .err { color: #ED007E; background-color: #1E0010 } /* Error */
.codehilite .esc { color: #F8F8F2 } /* Escape */
.codehilite .g { color: #F8F8F2 } /* Generic */
.codehilite .k { color: #66D9EF } /* Keyword */
.codehilite .l { color: #AE81FF } /* Literal */
.codehilite .n { color: #F8F8F2 } /* Name */
.codehilite .o { color: #FF4689 } /* Operator */
.codehilite .x { color: #F8F8F2 } /* Other */
.codehilite .p { color: #F8F8F2 } /* Punctuation */
.codehilite .ch { color: #959077 } /* Comment.Hashbang */
.codehilite .cm { color: #959077 } /* Comment.Multiline */
.codehilite .cp { color: #959077 } /* Comment.Preproc */
.codehilite .cpf { color: #959077 } /* Comment.PreprocFile */
.codehilite .c1 { color: #959077 } /* Comment.Single */
.codehilite .cs { color: #959077 } /* Comment.Special */
.codehilite .gd { color: #FF4689 } /* Generic.Deleted */
.codehilite .ge { color: #F8F8F2; font-style: italic } /* Generic.Emph */
.codehilite .ges { color: #F8F8F2; font-weight: bold; font-style: italic } /* Generic.EmphStrong */
.codehilite .gr { color: #F8F8F2 } /* Generic.Error */
.codehilite .gh { color: #F8F8F2 } /* Generic.Heading */
.codehilite .gi { color: #A6E22E } /* Generic.Inserted */
.codehilite .go { color: #66D9EF } /* Generic.Output */
.codehilite .gp { color: #FF4689; font-weight: bold } /* Generic.Prompt */
.codehilite .gs { color: #F8F8F2; font-weight: bold } /* Generic.Strong */
.codehilite .gu { color: #959077 } /* Generic.Subheading */
.codehilite .gt { color: #F8F8F2 } /* Generic.Traceback */
.codehilite .kc { color: #66D9EF } /* Keyword.Constant */
.codehilite .kd { color: #66D9EF } /* Keyword.Declaration */
.codehilite .kn { color: #FF4689 } /* Keyword.Namespace */
.codehilite .kp { color: #66D9EF } /* Keyword.Pseudo */
.codehilite .kr { color: #66D9EF } /* Keyword.Reserved */
.codehilite .kt { color: #66D9EF } /* Keyword.Type */
.codehilite .ld { color: #E6DB74 } /* Literal.Date */
.codehilite .m { color: #AE81FF } /* Literal.Number */
.codehilite .s { color: #E6DB74 } /* Literal.String */
.codehilite .na { color: #A6E22E } /* Name.Attribute */
.codehilite .nb { color: #F8F8F2 } /* Name.Builtin */
.codehilite .nc { color: #A6E22E } /* Name.Class */
.codehilite .no { color: #66D9EF } /* Name.Constant */
.codehilite .nd { color: #A6E22E } /* Name.Decorator */
.codehilite .ni { color: #F8F8F2 } /* Name.Entity */
.codehilite .ne { color: #A6E22E } /* Name.Exception */
.codehilite .nf { color: #A6E22E } /* Name.Function */
.codehilite .nl { color: #F8F8F2 } /* Name.Label */
.codehilite .nn { color: #F8F8F2 } /* Name.Namespace */
.codehilite .nx { color: #A6E22E } /* Name.Other */
.codehilite .py { color: #F8F8F2 } /* Name.Property */
.codehilite .nt { color: #FF4689 } /* Name.Tag */
.codehilite .nv { color: #F8F8F2 } /* Name.Variable */
.codehilite .ow { color: #FF4689 } /* Operator.Word */
.codehilite .pm { color: #F8F8F2 } /* Punctuation.Marker */
.codehilite .w { color: #F8F8F2 } /* Text.Whitespace */
.codehilite .mb { color: #AE81FF } /* Literal.Number.Bin */
.codehilite .mf { color: #AE81FF } /* Literal.Number.Float */
.codehilite .mh { color: #AE81FF } /* Literal.Number.Hex */
.codehilite .mi { color: #AE81FF } /* Literal.Number.Integer */
.codehilite .mo { color: #AE81FF } /* Literal.Number.Oct */
.codehilite .sa { color: #E6DB74 } /* Literal.String.Affix */
.codehilite .sb { color: #E6DB74 } /* Literal.String.Backtick */
.codehilite .sc { color: #E6DB74 } /* Literal.String.Char */
.codehilite .dl { color: #E6DB74 } /* Literal.String.Delimiter */
.codehilite .sd { color: #E6DB74 } /* Literal.String.Doc */
.codehilite .s2 { color: #E6DB74 } /* Literal.String.Double */
.codehilite .se { color: #AE81FF } /* Literal.String.Escape */
.codehilite .sh { color: #E6DB74 } /* Literal.String.Heredoc */
.codehilite .si { color: #E6DB74 } /* Literal.String.Interpol */
.codehilite .sx { color: #E6DB74 } /* Literal.String.Other */
.codehilite .sr { color: #E6DB74 } /* Literal.String.Regex */
.codehilite .s1 { color: #E6DB74 } /* Literal.String.Single */
.codehilite .ss { color: #E6DB74 } /* Literal.String.Symbol */
.codehilite .bp { color: #F8F8F2 } /* Name.Builtin.Pseudo */
.codehilite .fm { color: #A6E22E } /* Name.Function.Magic */
.codehilite .vc { color: #F8F8F2 } /* Name.Variable.Class */
.codehilite .vg { color: #F8F8F2 } /* Name.Variable.Global */
.codehilite .vi { color: #F8F8F2 } /* Name.Variable.Instance */
.codehilite .vm { color: #F8F8F2 } /* Name.Variable.Magic */
.codehilite .il { color: #AE81FF } /* Literal.Number.Integer.Long */

    .codehilite {
      background-color: var(--color-neutral);
      border-radius: 0.75rem;
      padding: 1.25rem;
      color: var(--color-neutral-content);
      font-family: "IBM Plex Mono", monospace;
      position: relative;
      display: flex;
      flex-direction: column;
      gap: 0.75rem;
      box-shadow: 0 10px 40px rgba(0, 0, 0, 0.45);
      overflow: hidden;
    }

    .codehilite pre {
      margin: 0;
      background: transparent;
      font-family: inherit;
      font-size: inherit;
      border: none;
      padding: 0;
      box-shadow: none;
      overflow-x: auto;
    }

    .codehilite__chrome {
      display: flex;
      align-items: center;
      justify-content: space-between;
      font-size: 0.7rem;
      text-transform: uppercase;
      color: rgba(255, 255, 255, 0.7);
      gap: 1rem;
    }

    .codehilite__language {
      white-space: nowrap;
    }

    .codehilite__copy {
      display: inline-flex;
      align-items: center;
      gap: 0.35rem;
      border-radius: 999px;
      color: var(--color-neutral-content);
      font-family: inherit;
      font-size: 0.65rem;
      text-transform: uppercase;
      padding: 0.2rem 0.9rem;
      cursor: pointer;
      transition: background-color 0.2s ease, border-color 0.2s ease, color 0.2s ease;
    }

    .codehilite__copy:hover,
    .codehilite__copy:focus-visible {
      background: rgba(255, 255, 255, 0.2);
      border-color: rgba(255, 255, 255, 0.6);
    }

    .codehilite__copy[data-state="copied"] {
      background: var(--color-accent);
      color: var(--color-accent-content);
      border-color: transparent;
    }

    .codehilite__copy-icon {
      width: 0.85rem;
      height: 0.85rem;
      display: block;
    }

    .svg-inline--fa {
      display: inline;
	}
  </style>
</head>
<body class="doc-page">
  <a href="#main-content" class="skip-link sr-only-focusable">Skip to content</a>

  <header id="site-header" class="fixed inset-x-0 top-0 z-50 border-b border-base-200 bg-base-100/80 backdrop-blur supports-[backdrop-filter]:bg-base-100/60">
    <div class="layout-shell layout-shell--docs flex w-full items-center justify-between px-4 py-4 md:px-8">
      <a href="index.html" class="group flex items-center gap-3 font-mono text-lg font-bold uppercase tracking-[0.35em] text-base-content">
        <span class="flex h-9 w-9 items-center justify-center transition-transform duration-300 group-hover:rotate-45">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
            <rect x="12" width="16.9706" height="16.9706" transform="rotate(45 12 0)" />
          </svg>
        </span>
        df12
      </a>
      <nav aria-label="Primary navigation" class="hidden items-center gap-8 md:flex">
        <a href="index.html#systems" class="nav-link hit-target">Tools</a>
        <a href="index.html#worlds" class="nav-link hit-target" data-variant="accent">Creative</a>
        <a href="docs.html" class="nav-link hit-target" data-variant="neutral" aria-current="page">Docs</a>
      </nav>
      <div class="md:hidden">
        <details class="dropdown dropdown-end">
          <summary class="btn btn-ghost btn-sm font-mono uppercase tracking-[0.3em]">Menu</summary>
          <ul class="menu dropdown-content menu-sm z-[1] mt-2 w-48 rounded-box bg-base-100 p-2 shadow">
            <li><a href="index.html#systems" class="nav-link hit-target w-full justify-start">Tools</a></li>
            <li><a href="index.html#worlds" class="nav-link hit-target w-full justify-start" data-variant="accent">Creative</a></li>
            <li><a href="docs.html" class="nav-link hit-target w-full justify-start" aria-current="page">Docs</a></li>
          </ul>
        </details>
      </div>
    </div>
  </header>

  <main id="main-content" class="px-4 pb-24 pt-32">
    <div class="layout-shell layout-shell--docs doc-grid">
      <aside class="doc-sidebar" aria-label="Documentation navigation">
        <div class="doc-sidebar__panel">
          <a href="docs.html" class="doc-sidebar__back">
            <svg class="svg-inline--fa fa-arrow-left" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="arrow-left" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.2 288 416 288c17.7 0 32-14.3 32-32s-14.3-32-32-32l-306.7 0L214.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"></path></svg>
            Back to docs
          </a>
          <div>
            <p class="doc-sidebar__eyebrow">df12</p>
            <p class="doc-sidebar__body">Tools for ambitious engineering teams</p>
          </div>
          <div class="doc-sidebar__groups">
              <div class="doc-nav-group" aria-label="Core concepts and motivation">
                <h3 class="doc-nav-group__title is-active">Core concepts and motivation</h3>
                <ul class="doc-nav__list" role="list">
                    <li>
                      <a href="docs-ortho-config-core-concepts-and-motivation.html"
                         class="doc-nav__link doc-nav__link--active"
aria-current="page">
                        <span>Core concepts and motivation</span>
                      </a>
                    </li>
                    <li>
                      <a href="docs-ortho-config-core-concepts-and-motivation.html#core-concepts-and-motivation-declarative-merging"
                         class="doc-nav__link "
>
                        <span>Declarative merging</span>
                      </a>
                    </li>
                </ul>
              </div>
              <div class="doc-nav-group" aria-label="Installation and dependencies">
                <h3 class="doc-nav-group__title ">Installation and dependencies</h3>
                <ul class="doc-nav__list" role="list">
                    <li>
                      <a href="docs-ortho-config-installation-and-dependencies.html"
                         class="doc-nav__link "
>
                        <span>Installation and dependencies</span>
                      </a>
                    </li>
                </ul>
              </div>
              <div class="doc-nav-group" aria-label="Migrating from earlier versions">
                <h3 class="doc-nav-group__title ">Migrating from earlier versions</h3>
                <ul class="doc-nav__list" role="list">
                    <li>
                      <a href="docs-ortho-config-migrating-from-earlier-versions.html"
                         class="doc-nav__link "
>
                        <span>Migrating from earlier versions</span>
                      </a>
                    </li>
                </ul>
              </div>
              <div class="doc-nav-group" aria-label="Defining configuration structures">
                <h3 class="doc-nav-group__title ">Defining configuration structures</h3>
                <ul class="doc-nav__list" role="list">
                    <li>
                      <a href="docs-ortho-config-defining-configuration-structures.html"
                         class="doc-nav__link "
>
                        <span>Defining configuration structures</span>
                      </a>
                    </li>
                    <li>
                      <a href="docs-ortho-config-defining-configuration-structures.html#defining-configuration-structures-field-level-attributes"
                         class="doc-nav__link "
>
                        <span>Field-level attributes</span>
                      </a>
                    </li>
                    <li>
                      <a href="docs-ortho-config-defining-configuration-structures.html#defining-configuration-structures-example-configuration-struct"
                         class="doc-nav__link "
>
                        <span>Example configuration struct</span>
                      </a>
                    </li>
                    <li>
                      <a href="docs-ortho-config-defining-configuration-structures.html#defining-configuration-structures-customising-configuration-discovery"
                         class="doc-nav__link "
>
                        <span>Customising configuration discovery</span>
                      </a>
                    </li>
                </ul>
              </div>
              <div class="doc-nav-group" aria-label="Loading configuration and precedence rules">
                <h3 class="doc-nav-group__title ">Loading configuration and precedence rules</h3>
                <ul class="doc-nav__list" role="list">
                    <li>
                      <a href="docs-ortho-config-loading-configuration-and-precedence-rules.html"
                         class="doc-nav__link "
>
                        <span>Loading configuration and precedence rules</span>
                      </a>
                    </li>
                    <li>
                      <a href="docs-ortho-config-loading-configuration-and-precedence-rules.html#loading-configuration-and-precedence-rules-how-loading-works"
                         class="doc-nav__link "
>
                        <span>How loading works</span>
                      </a>
                    </li>
                    <li>
                      <a href="docs-ortho-config-loading-configuration-and-precedence-rules.html#loading-configuration-and-precedence-rules-config-path-override"
                         class="doc-nav__link "
>
                        <span>Config path override</span>
                      </a>
                    </li>
                    <li>
                      <a href="docs-ortho-config-loading-configuration-and-precedence-rules.html#loading-configuration-and-precedence-rules-source-precedence"
                         class="doc-nav__link "
>
                        <span>Source precedence</span>
                      </a>
                    </li>
                    <li>
                      <a href="docs-ortho-config-loading-configuration-and-precedence-rules.html#loading-configuration-and-precedence-rules-using-defaults-and-optional-fields"
                         class="doc-nav__link "
>
                        <span>Using defaults and optional fields</span>
                      </a>
                    </li>
                    <li>
                      <a href="docs-ortho-config-loading-configuration-and-precedence-rules.html#loading-configuration-and-precedence-rules-environment-variable-naming"
                         class="doc-nav__link "
>
                        <span>Environment variable naming</span>
                      </a>
                    </li>
                </ul>
              </div>
              <div class="doc-nav-group" aria-label="Configuration inheritance">
                <h3 class="doc-nav-group__title ">Configuration inheritance</h3>
                <ul class="doc-nav__list" role="list">
                    <li>
                      <a href="docs-ortho-config-configuration-inheritance.html"
                         class="doc-nav__link "
>
                        <span>Configuration inheritance</span>
                      </a>
                    </li>
                </ul>
              </div>
              <div class="doc-nav-group" aria-label="Dynamic rule tables">
                <h3 class="doc-nav-group__title ">Dynamic rule tables</h3>
                <ul class="doc-nav__list" role="list">
                    <li>
                      <a href="docs-ortho-config-dynamic-rule-tables.html"
                         class="doc-nav__link "
>
                        <span>Dynamic rule tables</span>
                      </a>
                    </li>
                </ul>
              </div>
              <div class="doc-nav-group" aria-label="Ignore patterns">
                <h3 class="doc-nav-group__title ">Ignore patterns</h3>
                <ul class="doc-nav__list" role="list">
                    <li>
                      <a href="docs-ortho-config-ignore-patterns.html"
                         class="doc-nav__link "
>
                        <span>Ignore patterns</span>
                      </a>
                    </li>
                </ul>
              </div>
              <div class="doc-nav-group" aria-label="Subcommand configuration">
                <h3 class="doc-nav-group__title ">Subcommand configuration</h3>
                <ul class="doc-nav__list" role="list">
                    <li>
                      <a href="docs-ortho-config-subcommand-configuration.html"
                         class="doc-nav__link "
>
                        <span>Subcommand configuration</span>
                      </a>
                    </li>
                    <li>
                      <a href="docs-ortho-config-subcommand-configuration.html#subcommand-configuration-how-it-works"
                         class="doc-nav__link "
>
                        <span>How it works</span>
                      </a>
                    </li>
                    <li>
                      <a href="docs-ortho-config-subcommand-configuration.html#subcommand-configuration-example"
                         class="doc-nav__link "
>
                        <span>Example</span>
                      </a>
                    </li>
                    <li>
                      <a href="docs-ortho-config-subcommand-configuration.html#subcommand-configuration-hello-world-walkthrough"
                         class="doc-nav__link "
>
                        <span>Hello world walkthrough</span>
                      </a>
                    </li>
                    <li>
                      <a href="docs-ortho-config-subcommand-configuration.html#subcommand-configuration-dispatching-with-clap-dispatch"
                         class="doc-nav__link "
>
                        <span>Dispatching with `clap‑dispatch`</span>
                      </a>
                    </li>
                </ul>
              </div>
              <div class="doc-nav-group" aria-label="Error handling">
                <h3 class="doc-nav-group__title ">Error handling</h3>
                <ul class="doc-nav__list" role="list">
                    <li>
                      <a href="docs-ortho-config-error-handling.html"
                         class="doc-nav__link "
>
                        <span>Error handling</span>
                      </a>
                    </li>
                    <li>
                      <a href="docs-ortho-config-error-handling.html#error-handling-preserving-clap-display-exits"
                         class="doc-nav__link "
>
                        <span>Preserving `clap` display exits</span>
                      </a>
                    </li>
                    <li>
                      <a href="docs-ortho-config-error-handling.html#error-handling-aggregating-multiple-errors"
                         class="doc-nav__link "
>
                        <span>Aggregating multiple errors</span>
                      </a>
                    </li>
                    <li>
                      <a href="docs-ortho-config-error-handling.html#error-handling-mapping-errors-ergonomically"
                         class="doc-nav__link "
>
                        <span>Mapping errors ergonomically</span>
                      </a>
                    </li>
                </ul>
              </div>
              <div class="doc-nav-group" aria-label="Additional notes">
                <h3 class="doc-nav-group__title ">Additional notes</h3>
                <ul class="doc-nav__list" role="list">
                    <li>
                      <a href="docs-ortho-config-additional-notes.html"
                         class="doc-nav__link "
>
                        <span>Additional notes</span>
                      </a>
                    </li>
                </ul>
              </div>
              <div class="doc-nav-group" aria-label="Conclusion">
                <h3 class="doc-nav-group__title ">Conclusion</h3>
                <ul class="doc-nav__list" role="list">
                    <li>
                      <a href="docs-ortho-config-conclusion.html"
                         class="doc-nav__link "
>
                        <span>Conclusion</span>
                      </a>
                    </li>
                </ul>
              </div>
          </div>
          <div>
            <p class="doc-sidebar__section-label">Source</p>
            <a class="inline-flex items-center gap-2 font-semibold text-primary" href="https://raw.githubusercontent.com/leynos/ortho-config/refs/heads/main/docs/users-guide.md" target="_blank" rel="noopener">
              View markdown
              <span aria-hidden="true">↗</span>
            </a>
            <p class="mt-1 text-xs text-base-content/60">Source material</p>
          </div>
        </div>
      </aside>

      <section class="space-y-6" id="core-concepts-and-motivation">
        <nav class="doc-mobile-nav" aria-labelledby="mobile-sections-label">
          <p id="mobile-sections-label" class="doc-sidebar__section-label">Contents</p>
          <ul class="doc-nav__list doc-nav__list--mobile" role="list">
              <li class="doc-nav-group">
                <h3 class="doc-nav-group__title">Core concepts and motivation</h3>
                <ul class="doc-nav__list doc-nav__list--mobile" role="list">
                    <li>
                      <a href="docs-ortho-config-core-concepts-and-motivation.html" class="doc-nav__link">Core concepts and motivation</a>
                    </li>
                    <li>
                      <a href="docs-ortho-config-core-concepts-and-motivation.html#core-concepts-and-motivation-declarative-merging" class="doc-nav__link">Declarative merging</a>
                    </li>
                </ul>
              </li>
              <li class="doc-nav-group">
                <h3 class="doc-nav-group__title">Installation and dependencies</h3>
                <ul class="doc-nav__list doc-nav__list--mobile" role="list">
                    <li>
                      <a href="docs-ortho-config-installation-and-dependencies.html" class="doc-nav__link">Installation and dependencies</a>
                    </li>
                </ul>
              </li>
              <li class="doc-nav-group">
                <h3 class="doc-nav-group__title">Migrating from earlier versions</h3>
                <ul class="doc-nav__list doc-nav__list--mobile" role="list">
                    <li>
                      <a href="docs-ortho-config-migrating-from-earlier-versions.html" class="doc-nav__link">Migrating from earlier versions</a>
                    </li>
                </ul>
              </li>
              <li class="doc-nav-group">
                <h3 class="doc-nav-group__title">Defining configuration structures</h3>
                <ul class="doc-nav__list doc-nav__list--mobile" role="list">
                    <li>
                      <a href="docs-ortho-config-defining-configuration-structures.html" class="doc-nav__link">Defining configuration structures</a>
                    </li>
                    <li>
                      <a href="docs-ortho-config-defining-configuration-structures.html#defining-configuration-structures-field-level-attributes" class="doc-nav__link">Field-level attributes</a>
                    </li>
                    <li>
                      <a href="docs-ortho-config-defining-configuration-structures.html#defining-configuration-structures-example-configuration-struct" class="doc-nav__link">Example configuration struct</a>
                    </li>
                    <li>
                      <a href="docs-ortho-config-defining-configuration-structures.html#defining-configuration-structures-customising-configuration-discovery" class="doc-nav__link">Customising configuration discovery</a>
                    </li>
                </ul>
              </li>
              <li class="doc-nav-group">
                <h3 class="doc-nav-group__title">Loading configuration and precedence rules</h3>
                <ul class="doc-nav__list doc-nav__list--mobile" role="list">
                    <li>
                      <a href="docs-ortho-config-loading-configuration-and-precedence-rules.html" class="doc-nav__link">Loading configuration and precedence rules</a>
                    </li>
                    <li>
                      <a href="docs-ortho-config-loading-configuration-and-precedence-rules.html#loading-configuration-and-precedence-rules-how-loading-works" class="doc-nav__link">How loading works</a>
                    </li>
                    <li>
                      <a href="docs-ortho-config-loading-configuration-and-precedence-rules.html#loading-configuration-and-precedence-rules-config-path-override" class="doc-nav__link">Config path override</a>
                    </li>
                    <li>
                      <a href="docs-ortho-config-loading-configuration-and-precedence-rules.html#loading-configuration-and-precedence-rules-source-precedence" class="doc-nav__link">Source precedence</a>
                    </li>
                    <li>
                      <a href="docs-ortho-config-loading-configuration-and-precedence-rules.html#loading-configuration-and-precedence-rules-using-defaults-and-optional-fields" class="doc-nav__link">Using defaults and optional fields</a>
                    </li>
                    <li>
                      <a href="docs-ortho-config-loading-configuration-and-precedence-rules.html#loading-configuration-and-precedence-rules-environment-variable-naming" class="doc-nav__link">Environment variable naming</a>
                    </li>
                </ul>
              </li>
              <li class="doc-nav-group">
                <h3 class="doc-nav-group__title">Configuration inheritance</h3>
                <ul class="doc-nav__list doc-nav__list--mobile" role="list">
                    <li>
                      <a href="docs-ortho-config-configuration-inheritance.html" class="doc-nav__link">Configuration inheritance</a>
                    </li>
                </ul>
              </li>
              <li class="doc-nav-group">
                <h3 class="doc-nav-group__title">Dynamic rule tables</h3>
                <ul class="doc-nav__list doc-nav__list--mobile" role="list">
                    <li>
                      <a href="docs-ortho-config-dynamic-rule-tables.html" class="doc-nav__link">Dynamic rule tables</a>
                    </li>
                </ul>
              </li>
              <li class="doc-nav-group">
                <h3 class="doc-nav-group__title">Ignore patterns</h3>
                <ul class="doc-nav__list doc-nav__list--mobile" role="list">
                    <li>
                      <a href="docs-ortho-config-ignore-patterns.html" class="doc-nav__link">Ignore patterns</a>
                    </li>
                </ul>
              </li>
              <li class="doc-nav-group">
                <h3 class="doc-nav-group__title">Subcommand configuration</h3>
                <ul class="doc-nav__list doc-nav__list--mobile" role="list">
                    <li>
                      <a href="docs-ortho-config-subcommand-configuration.html" class="doc-nav__link">Subcommand configuration</a>
                    </li>
                    <li>
                      <a href="docs-ortho-config-subcommand-configuration.html#subcommand-configuration-how-it-works" class="doc-nav__link">How it works</a>
                    </li>
                    <li>
                      <a href="docs-ortho-config-subcommand-configuration.html#subcommand-configuration-example" class="doc-nav__link">Example</a>
                    </li>
                    <li>
                      <a href="docs-ortho-config-subcommand-configuration.html#subcommand-configuration-hello-world-walkthrough" class="doc-nav__link">Hello world walkthrough</a>
                    </li>
                    <li>
                      <a href="docs-ortho-config-subcommand-configuration.html#subcommand-configuration-dispatching-with-clap-dispatch" class="doc-nav__link">Dispatching with `clap‑dispatch`</a>
                    </li>
                </ul>
              </li>
              <li class="doc-nav-group">
                <h3 class="doc-nav-group__title">Error handling</h3>
                <ul class="doc-nav__list doc-nav__list--mobile" role="list">
                    <li>
                      <a href="docs-ortho-config-error-handling.html" class="doc-nav__link">Error handling</a>
                    </li>
                    <li>
                      <a href="docs-ortho-config-error-handling.html#error-handling-preserving-clap-display-exits" class="doc-nav__link">Preserving `clap` display exits</a>
                    </li>
                    <li>
                      <a href="docs-ortho-config-error-handling.html#error-handling-aggregating-multiple-errors" class="doc-nav__link">Aggregating multiple errors</a>
                    </li>
                    <li>
                      <a href="docs-ortho-config-error-handling.html#error-handling-mapping-errors-ergonomically" class="doc-nav__link">Mapping errors ergonomically</a>
                    </li>
                </ul>
              </li>
              <li class="doc-nav-group">
                <h3 class="doc-nav-group__title">Additional notes</h3>
                <ul class="doc-nav__list doc-nav__list--mobile" role="list">
                    <li>
                      <a href="docs-ortho-config-additional-notes.html" class="doc-nav__link">Additional notes</a>
                    </li>
                </ul>
              </li>
              <li class="doc-nav-group">
                <h3 class="doc-nav-group__title">Conclusion</h3>
                <ul class="doc-nav__list doc-nav__list--mobile" role="list">
                    <li>
                      <a href="docs-ortho-config-conclusion.html" class="doc-nav__link">Conclusion</a>
                    </li>
                </ul>
              </li>
          </ul>
        </nav>

        <header class="doc-hero" id="doc-title">
          <h1 class="doc-hero__title">Core concepts and motivation</h1>
          <div class="doc-meta-list">
            <span class="doc-meta-list__item">Updated Nov 10, 2025</span>
          </div>
        </header>

        <article class="doc-article">
              <section class="doc-section">
                <div class="doc-prose"><p>Rust projects often wire together <code>clap</code> for CLI parsing, <code>serde</code> for
de/serialization, and ad‑hoc code for loading <code>*.toml</code> files or reading
environment variables. Mapping between different naming conventions (kebab‑case
flags, <code>UPPER_SNAKE_CASE</code> environment variables, and <code>snake_case</code> struct
fields) can be tedious. <code>OrthoConfig</code> addresses these problems by letting
developers describe their configuration once and then automatically loading
values from multiple sources. The core features are:</p>
<ul>
<li>
<p><strong>Layered configuration</strong> – Configuration values can come from application
  defaults, configuration files, environment variables and command‑line
  arguments. Later sources override earlier ones. Command‑line arguments have
  the highest precedence and defaults the lowest.</p>
</li>
<li>
<p><strong>Orthographic naming</strong> – A single field in a Rust struct is automatically
  mapped to a CLI flag (kebab‑case), an environment variable (upper snake case
  with a prefix), and a file key (snake case). This removes the need for manual
  aliasing.</p>
</li>
<li>
<p><strong>Type‑safe deserialization</strong> – Values are deserialized into strongly typed
  Rust structs using <code>serde</code>.</p>
</li>
<li>
<p><strong>Easy adoption</strong> – A procedural macro <code>#[derive(OrthoConfig)]</code> adds the
  necessary code. Developers only need to derive <code>serde</code> traits on their
  configuration struct and call a generated method to load the configuration.</p>
</li>
<li>
<p><strong>Customizable behaviour</strong> – Attributes such as <code>default</code>, <code>cli_long</code>,
  <code>cli_short</code>, and <code>merge_strategy</code> provide fine‑grained control over naming
  and merging behaviour.</p>
</li>
<li><strong>Declarative merge tooling</strong> – Every configuration struct exposes a
  <code>merge_from_layers</code> helper along with <code>MergeComposer</code>, making it simple to
  compose defaults, files, environment captures, and CLI values in unit tests
  or bespoke loaders without instantiating the CLI parser. Vector fields honour
  the append strategy by default, so defaults flow through alongside
  environment and CLI additions.</li>
</ul>
<p>The workspace bundles an executable Hello World example under
<code>examples/hello_world</code>. It layers defaults, environment variables, and CLI
flags via the derive macro; see its <a href="../examples/hello_world/README.md">README</a>
for a step-by-step walkthrough and the Cucumber scenarios that validate
behaviour end-to-end.</p>
<p>Run <code>make test</code> to execute the example’s coverage. The unit suite uses <code>rstest</code>
fixtures to exercise parsing, validation, and command planning across
parameterised edge-cases (conflicting delivery modes, blank salutations, and
custom punctuation). Behavioural coverage comes from the <code>cucumber-rs</code> runner
in <code>tests/cucumber.rs</code>, which spawns the compiled binary inside a temporary
working directory, layers <code>.hello_world.toml</code> defaults via <code>cap-std</code>, and sets
<code>HELLO_WORLD_*</code> environment variables per scenario to demonstrate precedence:
configuration files &lt; environment variables &lt; CLI arguments.</p>
<p><code>ConfigDiscovery</code> exposes the same search order used by the example so
applications can replace bespoke path juggling with a single call. By default
the helper honours <code>HELLO_WORLD_CONFIG_PATH</code>, then searches
<code>$XDG_CONFIG_HOME/hello_world</code>, each entry in <code>$XDG_CONFIG_DIRS</code> (falling back
to <code>/etc/xdg</code> on Unix-like targets), Windows application data directories,
<code>$HOME/.config/hello_world</code>, <code>$HOME/.hello_world.toml</code>, and finally the project
root. Candidates are deduplicated in precedence order (case-insensitively on
Windows). Call <code>utf8_candidates()</code> to receive a <code>Vec&lt;camino::Utf8PathBuf&gt;</code>
without manual conversions:</p>
<p>```rust,no_run
use ortho_config::ConfigDiscovery;</p>
<h1>fn load() -&gt; ortho_config::OrthoResult&lt;()&gt; {</h1>
<p>let discovery = ConfigDiscovery::builder("hello_world")
    .env_var("HELLO_WORLD_CONFIG_PATH")
    .build();</p>
<p>if let Some(figment) = discovery.load_first()? {
    // Extract your configuration struct from the figment here.
    println!(
        "Loaded configuration from {:?}",
        discovery.candidates().first()
    );
} else {
    // Fall back to defaults when no configuration files exist.
}</p>
<h1>Ok(())</h1>
<h1>}</h1>
<p>```</p>
<p>The repository ships <code>config/overrides.toml</code>, which extends
<code>config/baseline.toml</code> to set <code>is_excited = true</code>, provide a <code>Layered hello</code>
preamble, and swap the greet punctuation for <code>!!!</code>. Behavioural tests and demo
scripts assert the uppercase output to guard this layering.</p></div>
              </section>
                <section id="core-concepts-and-motivation-declarative-merging" class="doc-section">
                  <div class="doc-section__heading">
                    <h2>Declarative merging</h2>
                  </div>
                  <div class="doc-prose"><p>The derive macro now emits helpers for composing configuration layers without
going through Figment directly. <code>MergeComposer</code> collects <code>MergeLayer</code> instances
for defaults, files, environment, and CLI input; once constructed, pass the
layers to <code>YourConfig::merge_from_layers</code> to build the final struct:</p>
<div class="codehilite" data-language="rust"><pre><span></span><code><span class="k">use</span><span class="w"> </span><span class="n">ortho_config</span><span class="p">::{</span><span class="n">MergeComposer</span><span class="p">,</span><span class="w"> </span><span class="n">OrthoConfig</span><span class="p">};</span>
<span class="k">use</span><span class="w"> </span><span class="n">serde</span><span class="p">::</span><span class="n">Deserialize</span><span class="p">;</span>
<span class="k">use</span><span class="w"> </span><span class="n">serde_json</span><span class="p">::</span><span class="n">json</span><span class="p">;</span>

<span class="cp">#[derive(Debug, Deserialize, OrthoConfig)]</span>
<span class="k">struct</span><span class="w"> </span><span class="nc">AppConfig</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">recipient</span><span class="p">:</span><span class="w"> </span><span class="nb">String</span><span class="p">,</span>
<span class="w">    </span><span class="n">salutations</span><span class="p">:</span><span class="w"> </span><span class="nb">Vec</span><span class="o">&lt;</span><span class="nb">String</span><span class="o">&gt;</span><span class="p">,</span>
<span class="p">}</span>

<span class="kd">let</span><span class="w"> </span><span class="k">mut</span><span class="w"> </span><span class="n">composer</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">MergeComposer</span><span class="p">::</span><span class="n">new</span><span class="p">();</span>
<span class="n">composer</span><span class="p">.</span><span class="n">push_defaults</span><span class="p">(</span><span class="n">json</span><span class="o">!</span><span class="p">({</span><span class="s">&quot;recipient&quot;</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Defaults&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;salutations&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s">&quot;Hi&quot;</span><span class="p">]</span><span class="w"> </span><span class="p">}));</span>
<span class="n">composer</span><span class="p">.</span><span class="n">push_environment</span><span class="p">(</span><span class="n">json</span><span class="o">!</span><span class="p">({</span><span class="s">&quot;salutations&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s">&quot;Env&quot;</span><span class="p">]</span><span class="w"> </span><span class="p">}));</span>
<span class="n">composer</span><span class="p">.</span><span class="n">push_cli</span><span class="p">(</span><span class="n">json</span><span class="o">!</span><span class="p">({</span><span class="s">&quot;recipient&quot;</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Cli&quot;</span><span class="w"> </span><span class="p">}));</span>

<span class="kd">let</span><span class="w"> </span><span class="n">merged</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">AppConfig</span><span class="p">::</span><span class="n">merge_from_layers</span><span class="p">(</span><span class="n">composer</span><span class="p">.</span><span class="n">layers</span><span class="p">())</span><span class="o">?</span><span class="p">;</span>
<span class="fm">assert_eq!</span><span class="p">(</span><span class="n">merged</span><span class="p">.</span><span class="n">recipient</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Cli&quot;</span><span class="p">);</span>
<span class="fm">assert_eq!</span><span class="p">(</span>
<span class="w">    </span><span class="n">merged</span><span class="p">.</span><span class="n">salutations</span><span class="p">,</span>
<span class="w">    </span><span class="fm">vec!</span><span class="p">[</span><span class="nb">String</span><span class="p">::</span><span class="n">from</span><span class="p">(</span><span class="s">&quot;Hi&quot;</span><span class="p">),</span><span class="w"> </span><span class="nb">String</span><span class="p">::</span><span class="n">from</span><span class="p">(</span><span class="s">&quot;Env&quot;</span><span class="p">)]</span>
<span class="p">);</span>
</code></pre></div>

<p>This API surfaces the same precedence as the generated <code>load()</code> method while
making it trivial to drive unit and behavioural tests with hand-crafted layers.
<code>Vec&lt;_&gt;</code> fields accumulate values from each layer in order, so defaults can
coexist with environment or CLI extensions. The Hello World example’s
behavioural suite includes a dedicated scenario that parses JSON descriptors
into <code>MergeLayer</code> values and asserts the merged configuration via these
helpers. Unit tests can mirror this approach with <code>rstest</code> fixtures: define
fixtures for default payloads, then enumerate cases for file, environment, and
CLI layers. This validates every precedence permutation without copy-pasting
setup.</p></div>
                </section>
        </article>
      </section>
    </div>
  </main>

  <footer id="footer" class="border-t border-base-200 bg-base-100">
    <div class="layout-shell layout-shell--docs grid gap-12 px-6 py-16 md:grid-cols-3 md:px-16">
      <div>
        <p class="font-mono text-sm font-semibold tracking-[0.3em] text-base-content/90">df12 Productions</p>
        <p class="mt-4 text-sm text-base-content/90">Serious systems, playful worlds. We ship tools that cut build times and stories that map the human edge of complex networks.</p>
      </div>
      <div>
        <h2>OSS &amp; Licences</h2>
        <ul class="mt-4 space-y-2 text-sm">
          <li><a class="footer-link" href="https://github.com/leynos/limela/blob/main/LICENSE" target="_blank" rel="noopener noreferrer">Limela — licence</a></li>
          <li><a class="footer-link" href="https://github.com/leynos/netsuke/blob/main/LICENSE" target="_blank" rel="noopener noreferrer">Netsuke — licence</a></li>
          <li><a class="footer-link" href="https://github.com/leynos/mxd/blob/main/LICENSE" target="_blank" rel="noopener noreferrer">mxd — licence</a></li>
          <li><a class="footer-link" href="https://github.com/leynos/episodic/blob/main/LICENSE" target="_blank" rel="noopener noreferrer">Episodic — licence</a></li>
        </ul>
      </div>
      <div>
        <h3>Stay in touch</h3>
        <ul class="mt-4 space-y-2 text-sm">
          <li><a class="footer-link" data-variant="accent" href="mailto:hello@df12.studio">hello@df12.studio</a></li>
          <li>
            <a class="footer-link" data-variant="accent" href="https://github.com/leynos" target="_blank" rel="noopener noreferrer">
              <svg class="h-4 w-4" viewBox="0 0 24 24" aria-hidden="true" fill="currentColor">
                <path fill-rule="evenodd" clip-rule="evenodd" d="M12 .5C5.65.5.5 5.65.5 12c0 5.08 3.29 9.38 7.86 10.9.58.11.79-.25.79-.56 0-.27-.01-1.16-.02-2.1-3.2.7-3.88-1.37-3.88-1.37-.53-1.35-1.29-1.71-1.29-1.71-1.05-.72.08-.71.08-.71 1.16.08 1.78 1.19 1.78 1.19 1.03 1.77 2.7 1.26 3.36.96.11-.75.4-1.26.73-1.55-2.55-.29-5.23-1.28-5.23-5.68 0-1.25.45-2.27 1.19-3.07-.12-.29-.52-1.46.11-3.05 0 0 .98-.31 3.2 1.17.93-.26 1.93-.39 2.92-.39.99 0 1.99.13 2.92.39 2.21-1.48 3.19-1.17 3.19-1.17.63 1.59.23 2.76.11 3.05.74.8 1.19 1.82 1.19 3.07 0 4.41-2.68 5.39-5.24 5.67.41.36.78 1.06.78 2.14 0 1.54-.01 2.78-.01 3.16 0 .31.21.68.79.56C20.21 21.37 23.5 17.08 23.5 12 23.5 5.65 18.35.5 12 .5Z" />
              </svg>
              GitHub
            </a>
          </li>
          <li>
            <a class="footer-link" data-variant="accent" href="https://bsky.app/profile/df12.studio" target="_blank" rel="noopener noreferrer">
              <svg class="h-4 w-4" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="cloud" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512">
                <path fill="currentColor" d="M0 336c0 79.5 64.5 144 144 144H512c70.7 0 128-57.3 128-128c0-61.9-44-113.6-102.4-125.4c4.1-10.7 6.4-22.4 6.4-34.6c0-53-43-96-96-96c-19.7 0-38.1 6-53.3 16.2C367 64.2 315.3 32 256 32C167.6 32 96 103.6 96 192c0 2.7 .1 5.4 .2 8.1C40.2 219.8 0 273.2 0 336z"></path>
              </svg>
              Bluesky
            </a>
          </li>
        </ul>
        <p class="mt-8">Generated November 10, 2025 at 13:06 UTC</p>
        <p class="mt-4 text-xs text-base-content/80">Built for curious builders and storytellers everywhere. ©&nbsp;2025&nbsp;df12 Productions.</p>
      </div>
    </div>
  </footer>

  <script>
    (() => {
      const blocks = document.querySelectorAll('.codehilite');
      if (!blocks.length) {
        return;
      }

      const formatLanguage = (raw) => {
        const value = (raw || '').trim();
        if (!value || value.toLowerCase() === 'text') {
          return 'Plain Text';
        }
        return value
          .replace(/[._-]+/g, ' ')
          .replace(/\b\w/g, (char) => char.toUpperCase());
      };

      const writeClipboard = async (text) => {
        if (!text) {
          return false;
        }
        try {
          if (navigator.clipboard?.writeText) {
            await navigator.clipboard.writeText(text);
            return true;
          }
        } catch (error) {
          /* fall back */
        }

        try {
          const textarea = document.createElement('textarea');
          textarea.value = text;
          textarea.setAttribute('readonly', 'readonly');
          textarea.style.position = 'absolute';
          textarea.style.left = '-9999px';
          document.body.appendChild(textarea);
          textarea.select();
          const success = document.execCommand('copy');
          document.body.removeChild(textarea);
          return success;
        } catch (error) {
          return false;
        }
      };

      blocks.forEach((block) => {
        if (block.dataset.enhanced === 'true') {
          return;
        }
        const pre = block.querySelector('pre');
        const code = block.querySelector('code') || pre;
        if (!pre || !code) {
          return;
        }

        block.dataset.enhanced = 'true';

        const chrome = document.createElement('div');
        chrome.className = 'codehilite__chrome';

        const languageLabel = document.createElement('span');
        languageLabel.className = 'codehilite__language';
        const lang = block.dataset.language || '';
        const readableLang = formatLanguage(lang);
        languageLabel.textContent = readableLang;

        const copyButton = document.createElement('button');
        copyButton.type = 'button';
        copyButton.className = 'codehilite__copy';
        copyButton.setAttribute('aria-label', `Copy ${readableLang} code snippet`);
        copyButton.innerHTML = `
          <span class="codehilite__copy-icon" aria-hidden="true">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
              <path d="M8 2C6.34315 2 5 3.34315 5 5V15C5 16.6569 6.34315 18 8 18H16C17.6569 18 19 16.6569 19 15V5C19 3.34315 17.6569 2 16 2H8ZM7 5C7 4.44772 7.44772 4 8 4H16C16.5523 4 17 4.44772 17 5V15C17 15.5523 16.5523 16 16 16H8C7.44772 16 7 15.5523 7 15V5Z" />
              <path d="M4 7C4 6.44772 3.55228 6 3 6C1.34315 6 0 7.34315 0 9V19C0 20.6569 1.34315 22 3 22H11C12.6569 22 14 20.6569 14 19C14 18.4477 13.5523 18 13 18C12.4477 18 12 18.4477 12 19C12 19.5523 11.5523 20 11 20H3C2.44772 20 2 19.5523 2 19V9C2 8.44772 2.44772 8 3 8C3.55228 8 4 7.55228 4 7Z" />
            </svg>
          </span>
          <span class="codehilite__copy-text">Copy</span>
        `;

        chrome.appendChild(languageLabel);
        chrome.appendChild(copyButton);
        block.insertBefore(chrome, pre);

        const copyTextLabel = copyButton.querySelector('.codehilite__copy-text');
        let resetTimer;

        copyButton.addEventListener('click', async () => {
          const textContent = code.textContent || '';
          const didCopy = await writeClipboard(textContent.trimEnd());
          if (!didCopy) {
            if (copyTextLabel) {
              copyTextLabel.textContent = 'Press ⌘/Ctrl+C';
            }
            clearTimeout(resetTimer);
            resetTimer = setTimeout(() => {
              copyButton.removeAttribute('data-state');
              if (copyTextLabel) {
                copyTextLabel.textContent = 'Copy';
              }
            }, 2500);
            return;
          }
          copyButton.dataset.state = 'copied';
          if (copyTextLabel) {
            copyTextLabel.textContent = 'Copied';
          }
          clearTimeout(resetTimer);
          resetTimer = setTimeout(() => {
            copyButton.removeAttribute('data-state');
            if (copyTextLabel) {
              copyTextLabel.textContent = 'Copy';
            }
          }, 2500);
        });
      });
    })();
  </script>
</body>
</html>