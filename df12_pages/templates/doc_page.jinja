<!doctype html>
<html lang="en" data-theme="df12">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:wght@400;700&family=Inter:wght@400;600;700&display=swap" rel="stylesheet" />
  <link href="assets/site.css" rel="stylesheet" />
  <title>{{ html_title }}</title>
  <style>
    {{ pygments_css }}

    .doc-shell {
      padding-top: 6rem;
      padding-bottom: 6rem;
    }

    .rich-text :is(p, ul, ol, h3, h4) {
      margin-bottom: 1rem;
      color: hsl(var(--bc) / 0.9);
      line-height: 1.7;
    }

    .rich-text ul {
      list-style: disc;
      padding-left: 1.5rem;
    }

    .doc-numbered-steps {
      display: flex;
      flex-direction: column;
      gap: 2rem;
      margin-top: 2.5rem;
    }

    .doc-step {
      display: flex;
      gap: 1.5rem;
      align-items: flex-start;
      padding: 1.5rem;
      border-radius: 1.5rem;
      border: 1px solid hsl(var(--b3));
      background: hsl(var(--b1));
    }

    .doc-step__index {
      width: 3rem;
      height: 3rem;
      border-radius: 9999px;
      border: 2px solid hsl(var(--a));
      font-family: "IBM Plex Mono", monospace;
      font-weight: 700;
      font-size: 1.25rem;
      display: flex;
      align-items: center;
      justify-content: center;
      color: hsl(var(--a));
      flex-shrink: 0;
    }

    .doc-split-grid {
      margin-top: 3rem;
      display: grid;
      gap: 2rem;
    }

    @media (min-width: 1024px) {
      .doc-split-grid {
        grid-template-columns: repeat(2, minmax(0, 1fr));
      }
      .doc-shell {
        padding-top: 8rem;
        padding-bottom: 8rem;
      }
    }

    .codehilite {
      border-radius: 1.5rem;
      padding: 1.5rem;
      background: #0f172a;
      font-size: 0.9rem;
      overflow: auto;
    }

    .doc-card {
      border: 1px solid hsl(var(--b3));
      border-radius: 2rem;
      padding: 2.5rem;
      background: hsl(var(--b1));
    }

    .doc-footer {
      border-top: 1px solid hsl(var(--b2));
      margin-top: 4rem;
      padding-top: 2rem;
      color: hsl(var(--bc) / 0.7);
    }
  </style>
</head>
<body class="bg-base-100 text-base-content">
  <a href="#main-content" class="skip-link sr-only-focusable">Skip to content</a>

  <header id="site-header" class="fixed inset-x-0 top-0 z-50 border-b border-base-200 bg-base-100/80 backdrop-blur supports-[backdrop-filter]:bg-base-100/60">
    <div class="layout-shell flex w-full items-center justify-between px-4 py-4 md:px-8">
      <a href="index.html" class="group flex items-center gap-3 font-mono text-lg font-bold uppercase tracking-[0.35em] text-base-content">
        <span class="flex h-9 w-9 items-center justify-center transition-transform duration-300 group-hover:rotate-45">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
            <rect x="12" width="16.9706" height="16.9706" transform="rotate(45 12 0)" />
          </svg>
        </span>
        df12
      </a>
      <nav aria-label="Primary navigation" class="hidden items-center gap-8 md:flex">
        <a href="index.html#systems" class="nav-link hit-target">Tools</a>
        <a href="index.html#worlds" class="nav-link hit-target" data-variant="accent">Creative</a>
        <a href="#" class="nav-link hit-target" data-variant="neutral" aria-current="page">{{ theme.doc_label }}</a>
      </nav>
      <div class="md:hidden">
        <details class="dropdown dropdown-end">
          <summary class="btn btn-ghost btn-sm font-mono uppercase tracking-[0.3em]">Menu</summary>
          <ul class="menu dropdown-content menu-sm z-[1] mt-2 w-44 rounded-box bg-base-100 p-2 shadow">
            <li><a href="index.html#systems" class="nav-link hit-target w-full justify-start">Tools</a></li>
            <li><a href="index.html#worlds" class="nav-link hit-target w-full justify-start" data-variant="accent">Creative</a></li>
            <li><a class="nav-link hit-target w-full justify-start" aria-current="page">{{ theme.doc_label }}</a></li>
          </ul>
        </details>
      </div>
    </div>
  </header>

  <main id="main-content" class="flex flex-col">
    <section class="doc-shell layout-shell">
      <p class="eyebrow text-primary/80">{{ theme.hero_eyebrow }}</p>
      <div class="flex flex-col gap-4 md:flex-row md:items-end md:justify-between">
        <div>
          <h1 class="section-title">{{ section.title }}</h1>
          <p class="mt-3 text-lg text-base-content/70 max-w-3xl">{{ theme.hero_tagline }}</p>
        </div>
        <div class="flex flex-wrap gap-3 text-sm font-mono uppercase tracking-[0.3em] text-base-content/60">
          <span>Section {{ "%02d" | format(section.order) }}</span>
          <span>Updated {{ generated_at.strftime('%b %d, %Y') }}</span>
        </div>
      </div>

      <div class="mt-8 flex flex-wrap gap-3">
        {% for item in nav_items %}
          <a href="{{ item.href }}"
             class="btn btn-sm font-mono uppercase tracking-[0.3em] {{ 'btn-primary' if item.slug == section.slug else 'btn-ghost' }}">
            {{ item.label }}
          </a>
        {% endfor %}
      </div>

      <article class="doc-card mt-10">
        {% if section.layout == 'numbered_steps' %}
          {% if section.intro_html %}
            <div class="rich-text">{{ section.intro_html | safe }}</div>
          {% endif %}
          <div class="doc-numbered-steps">
            {% for step in section.numbered_steps %}
              <div class="doc-step" id="{{ step.anchor }}">
                <div class="doc-step__index">{{ '%02d' | format(step.number) }}</div>
                <div>
                  <h3 class="font-mono text-xl font-semibold text-base-content">{{ step.title }}</h3>
                  <div class="rich-text mt-3">{{ step.html | safe }}</div>
                </div>
              </div>
            {% endfor %}
          </div>
        {% elif section.layout == 'split_panel' %}
          <div class="doc-split-grid">
            <div class="rich-text">{{ section.split_panel.primary_html | safe }}</div>
            <div>
              {{ section.split_panel.secondary_html | safe }}
            </div>
          </div>
        {% else %}
          <div class="rich-text">{{ section.default_html | safe }}</div>
        {% endif %}
      </article>

      <div class="doc-footer">
        <p>Source: <a class="link" href="{{ source_url }}" target="_blank" rel="noopener">{{ source_label }}</a></p>
        <p class="mt-1">Generated {{ generated_at.strftime('%B %d, %Y at %H:%M %Z') }}</p>
      </div>
    </section>
  </main>

  <footer id="footer" class="border-t border-base-200 bg-base-100">
    <div class="layout-shell flex flex-col gap-4 px-4 py-10 text-sm text-base-content/70 md:flex-row md:items-center md:justify-between">
      <p class="font-mono uppercase tracking-[0.25em]">{{ theme.site_name }}</p>
      <p>&copy; {{ generated_at.year }} {{ theme.site_name }}{% if footer_note %}. {{ footer_note }}{% endif %}</p>
    </div>
  </footer>
</body>
</html>
