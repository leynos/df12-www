<!doctype html>
<html lang="en" data-theme="df12">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:wght@400;700&family=Inter:wght@400;600;700&display=swap" rel="stylesheet" />
  <link href="assets/site.css" rel="stylesheet" />
  <title>df12 Productions — Loading configuration and precedence rules | Ortho Config</title>
  <style>
    pre { line-height: 125%; }
td.linenos .normal { color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px; }
span.linenos { color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px; }
td.linenos .special { color: #000000; background-color: #ffffc0; padding-left: 5px; padding-right: 5px; }
span.linenos.special { color: #000000; background-color: #ffffc0; padding-left: 5px; padding-right: 5px; }
.codehilite .hll { background-color: #49483e }
.codehilite { background: #272822; color: #F8F8F2 }
.codehilite .c { color: #959077 } /* Comment */
.codehilite .err { color: #ED007E; background-color: #1E0010 } /* Error */
.codehilite .esc { color: #F8F8F2 } /* Escape */
.codehilite .g { color: #F8F8F2 } /* Generic */
.codehilite .k { color: #66D9EF } /* Keyword */
.codehilite .l { color: #AE81FF } /* Literal */
.codehilite .n { color: #F8F8F2 } /* Name */
.codehilite .o { color: #FF4689 } /* Operator */
.codehilite .x { color: #F8F8F2 } /* Other */
.codehilite .p { color: #F8F8F2 } /* Punctuation */
.codehilite .ch { color: #959077 } /* Comment.Hashbang */
.codehilite .cm { color: #959077 } /* Comment.Multiline */
.codehilite .cp { color: #959077 } /* Comment.Preproc */
.codehilite .cpf { color: #959077 } /* Comment.PreprocFile */
.codehilite .c1 { color: #959077 } /* Comment.Single */
.codehilite .cs { color: #959077 } /* Comment.Special */
.codehilite .gd { color: #FF4689 } /* Generic.Deleted */
.codehilite .ge { color: #F8F8F2; font-style: italic } /* Generic.Emph */
.codehilite .ges { color: #F8F8F2; font-weight: bold; font-style: italic } /* Generic.EmphStrong */
.codehilite .gr { color: #F8F8F2 } /* Generic.Error */
.codehilite .gh { color: #F8F8F2 } /* Generic.Heading */
.codehilite .gi { color: #A6E22E } /* Generic.Inserted */
.codehilite .go { color: #66D9EF } /* Generic.Output */
.codehilite .gp { color: #FF4689; font-weight: bold } /* Generic.Prompt */
.codehilite .gs { color: #F8F8F2; font-weight: bold } /* Generic.Strong */
.codehilite .gu { color: #959077 } /* Generic.Subheading */
.codehilite .gt { color: #F8F8F2 } /* Generic.Traceback */
.codehilite .kc { color: #66D9EF } /* Keyword.Constant */
.codehilite .kd { color: #66D9EF } /* Keyword.Declaration */
.codehilite .kn { color: #FF4689 } /* Keyword.Namespace */
.codehilite .kp { color: #66D9EF } /* Keyword.Pseudo */
.codehilite .kr { color: #66D9EF } /* Keyword.Reserved */
.codehilite .kt { color: #66D9EF } /* Keyword.Type */
.codehilite .ld { color: #E6DB74 } /* Literal.Date */
.codehilite .m { color: #AE81FF } /* Literal.Number */
.codehilite .s { color: #E6DB74 } /* Literal.String */
.codehilite .na { color: #A6E22E } /* Name.Attribute */
.codehilite .nb { color: #F8F8F2 } /* Name.Builtin */
.codehilite .nc { color: #A6E22E } /* Name.Class */
.codehilite .no { color: #66D9EF } /* Name.Constant */
.codehilite .nd { color: #A6E22E } /* Name.Decorator */
.codehilite .ni { color: #F8F8F2 } /* Name.Entity */
.codehilite .ne { color: #A6E22E } /* Name.Exception */
.codehilite .nf { color: #A6E22E } /* Name.Function */
.codehilite .nl { color: #F8F8F2 } /* Name.Label */
.codehilite .nn { color: #F8F8F2 } /* Name.Namespace */
.codehilite .nx { color: #A6E22E } /* Name.Other */
.codehilite .py { color: #F8F8F2 } /* Name.Property */
.codehilite .nt { color: #FF4689 } /* Name.Tag */
.codehilite .nv { color: #F8F8F2 } /* Name.Variable */
.codehilite .ow { color: #FF4689 } /* Operator.Word */
.codehilite .pm { color: #F8F8F2 } /* Punctuation.Marker */
.codehilite .w { color: #F8F8F2 } /* Text.Whitespace */
.codehilite .mb { color: #AE81FF } /* Literal.Number.Bin */
.codehilite .mf { color: #AE81FF } /* Literal.Number.Float */
.codehilite .mh { color: #AE81FF } /* Literal.Number.Hex */
.codehilite .mi { color: #AE81FF } /* Literal.Number.Integer */
.codehilite .mo { color: #AE81FF } /* Literal.Number.Oct */
.codehilite .sa { color: #E6DB74 } /* Literal.String.Affix */
.codehilite .sb { color: #E6DB74 } /* Literal.String.Backtick */
.codehilite .sc { color: #E6DB74 } /* Literal.String.Char */
.codehilite .dl { color: #E6DB74 } /* Literal.String.Delimiter */
.codehilite .sd { color: #E6DB74 } /* Literal.String.Doc */
.codehilite .s2 { color: #E6DB74 } /* Literal.String.Double */
.codehilite .se { color: #AE81FF } /* Literal.String.Escape */
.codehilite .sh { color: #E6DB74 } /* Literal.String.Heredoc */
.codehilite .si { color: #E6DB74 } /* Literal.String.Interpol */
.codehilite .sx { color: #E6DB74 } /* Literal.String.Other */
.codehilite .sr { color: #E6DB74 } /* Literal.String.Regex */
.codehilite .s1 { color: #E6DB74 } /* Literal.String.Single */
.codehilite .ss { color: #E6DB74 } /* Literal.String.Symbol */
.codehilite .bp { color: #F8F8F2 } /* Name.Builtin.Pseudo */
.codehilite .fm { color: #A6E22E } /* Name.Function.Magic */
.codehilite .vc { color: #F8F8F2 } /* Name.Variable.Class */
.codehilite .vg { color: #F8F8F2 } /* Name.Variable.Global */
.codehilite .vi { color: #F8F8F2 } /* Name.Variable.Instance */
.codehilite .vm { color: #F8F8F2 } /* Name.Variable.Magic */
.codehilite .il { color: #AE81FF } /* Literal.Number.Integer.Long */

    .codehilite {
      background-color: var(--color-neutral);
      border-radius: 0.75rem;
      padding: 1.25rem;
      color: var(--color-neutral-content);
      font-family: "IBM Plex Mono", monospace;
      position: relative;
      display: flex;
      flex-direction: column;
      gap: 0.75rem;
      box-shadow: 0 10px 40px rgba(0, 0, 0, 0.45);
      overflow: hidden;
    }

    .codehilite pre {
      margin: 0;
      background: transparent;
      font-family: inherit;
      font-size: inherit;
      border: none;
      padding: 0;
      box-shadow: none;
      overflow-x: auto;
    }

    .codehilite__chrome {
      display: flex;
      align-items: center;
      justify-content: space-between;
      font-size: 0.7rem;
      text-transform: uppercase;
      color: rgba(255, 255, 255, 0.7);
      gap: 1rem;
    }

    .codehilite__language {
      white-space: nowrap;
    }

    .codehilite__copy {
      display: inline-flex;
      align-items: center;
      gap: 0.35rem;
      border-radius: 999px;
      color: var(--color-neutral-content);
      font-family: inherit;
      font-size: 0.65rem;
      text-transform: uppercase;
      padding: 0.2rem 0.9rem;
      cursor: pointer;
      transition: background-color 0.2s ease, border-color 0.2s ease, color 0.2s ease;
    }

    .codehilite__copy:hover,
    .codehilite__copy:focus-visible {
      background: rgba(255, 255, 255, 0.2);
      border-color: rgba(255, 255, 255, 0.6);
    }

    .codehilite__copy[data-state="copied"] {
      background: var(--color-accent);
      color: var(--color-accent-content);
      border-color: transparent;
    }

    .codehilite__copy-icon {
      width: 0.85rem;
      height: 0.85rem;
      display: block;
    }

    .svg-inline--fa {
      display: inline;
	}
  </style>
</head>
<body class="doc-page">
  <a href="#main-content" class="skip-link sr-only-focusable">Skip to content</a>

  <header id="site-header" class="fixed inset-x-0 top-0 z-50 border-b border-base-200 bg-base-100/80 backdrop-blur supports-[backdrop-filter]:bg-base-100/60">
    <div class="layout-shell layout-shell--docs flex w-full items-center justify-between px-4 py-4 md:px-8">
      <a href="index.html" class="group flex items-center gap-3 font-mono text-lg font-bold uppercase tracking-[0.35em] text-base-content">
        <span class="flex h-9 w-9 items-center justify-center transition-transform duration-300 group-hover:rotate-45">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
            <rect x="12" width="16.9706" height="16.9706" transform="rotate(45 12 0)" />
          </svg>
        </span>
        df12
      </a>
      <nav aria-label="Primary navigation" class="hidden items-center gap-8 md:flex">
        <a href="index.html#systems" class="nav-link hit-target">Tools</a>
        <a href="index.html#worlds" class="nav-link hit-target" data-variant="accent">Creative</a>
        <a href="docs.html" class="nav-link hit-target" data-variant="neutral" aria-current="page">Docs</a>
      </nav>
      <div class="md:hidden">
        <details class="dropdown dropdown-end">
          <summary class="btn btn-ghost btn-sm font-mono uppercase tracking-[0.3em]">Menu</summary>
          <ul class="menu dropdown-content menu-sm z-[1] mt-2 w-48 rounded-box bg-base-100 p-2 shadow">
            <li><a href="index.html#systems" class="nav-link hit-target w-full justify-start">Tools</a></li>
            <li><a href="index.html#worlds" class="nav-link hit-target w-full justify-start" data-variant="accent">Creative</a></li>
            <li><a href="docs.html" class="nav-link hit-target w-full justify-start" aria-current="page">Docs</a></li>
          </ul>
        </details>
      </div>
    </div>
  </header>

  <main id="main-content" class="px-4 pb-24 pt-32">
    <div class="layout-shell layout-shell--docs doc-grid">
      <aside class="doc-sidebar" aria-label="Documentation navigation">
        <div class="doc-sidebar__panel">
          <a href="docs.html" class="doc-sidebar__back">
            <iconify-icon icon="carbon:arrow-left" class="h-4 w-4" aria-hidden="true"></iconify-icon>
            Back to docs
          </a>
          <div>
            <p class="doc-sidebar__eyebrow">Ortho Config</p>
            <p class="doc-sidebar__body">Esbuild-inspired configuration management for Rust services.</p>
          </div>
          <div class="doc-sidebar__groups">
              <div class="doc-nav-group" aria-label="Core concepts and motivation">
                <h3 class="doc-nav-group__title " >
                  <a href="docs-ortho-config-core-concepts-and-motivation.html">Core concepts and motivation</a>
                </h3>
              </div>
              <div class="doc-nav-group" aria-label="Installation and dependencies">
                <h3 class="doc-nav-group__title " >
                  <a href="docs-ortho-config-installation-and-dependencies.html">Installation and dependencies</a>
                </h3>
              </div>
              <div class="doc-nav-group" aria-label="Migrating from earlier versions">
                <h3 class="doc-nav-group__title " >
                  <a href="docs-ortho-config-migrating-from-earlier-versions.html">Migrating from earlier versions</a>
                </h3>
              </div>
              <div class="doc-nav-group" aria-label="Defining configuration structures">
                <h3 class="doc-nav-group__title " >
                  <a href="docs-ortho-config-defining-configuration-structures.html">Defining configuration structures</a>
                </h3>
                  <ul class="doc-nav__list" role="list">
                      <li>
                        <a href="docs-ortho-config-defining-configuration-structures.html#defining-configuration-structures-field-level-attributes"
                           class="doc-nav__link "
>
                          <span>Field-level attributes</span>
                        </a>
                      </li>
                      <li>
                        <a href="docs-ortho-config-defining-configuration-structures.html#defining-configuration-structures-example-configuration-struct"
                           class="doc-nav__link "
>
                          <span>Example configuration struct</span>
                        </a>
                      </li>
                      <li>
                        <a href="docs-ortho-config-defining-configuration-structures.html#defining-configuration-structures-customising-configuration-discovery"
                           class="doc-nav__link "
>
                          <span>Customising configuration discovery</span>
                        </a>
                      </li>
                  </ul>
              </div>
              <div class="doc-nav-group" aria-label="Loading configuration and precedence rules">
                <h3 class="doc-nav-group__title is-active" aria-current="page">
                  <a href="docs-ortho-config-loading-configuration-and-precedence-rules.html">Loading configuration and precedence rules</a>
                </h3>
                  <ul class="doc-nav__list" role="list">
                      <li>
                        <a href="docs-ortho-config-loading-configuration-and-precedence-rules.html#loading-configuration-and-precedence-rules-how-loading-works"
                           class="doc-nav__link "
>
                          <span>How loading works</span>
                        </a>
                      </li>
                      <li>
                        <a href="docs-ortho-config-loading-configuration-and-precedence-rules.html#loading-configuration-and-precedence-rules-config-path-override"
                           class="doc-nav__link "
>
                          <span>Config path override</span>
                        </a>
                      </li>
                      <li>
                        <a href="docs-ortho-config-loading-configuration-and-precedence-rules.html#loading-configuration-and-precedence-rules-source-precedence"
                           class="doc-nav__link "
>
                          <span>Source precedence</span>
                        </a>
                      </li>
                      <li>
                        <a href="docs-ortho-config-loading-configuration-and-precedence-rules.html#loading-configuration-and-precedence-rules-using-defaults-and-optional-fields"
                           class="doc-nav__link "
>
                          <span>Using defaults and optional fields</span>
                        </a>
                      </li>
                      <li>
                        <a href="docs-ortho-config-loading-configuration-and-precedence-rules.html#loading-configuration-and-precedence-rules-environment-variable-naming"
                           class="doc-nav__link "
>
                          <span>Environment variable naming</span>
                        </a>
                      </li>
                  </ul>
              </div>
              <div class="doc-nav-group" aria-label="Configuration inheritance">
                <h3 class="doc-nav-group__title " >
                  <a href="docs-ortho-config-configuration-inheritance.html">Configuration inheritance</a>
                </h3>
              </div>
              <div class="doc-nav-group" aria-label="Dynamic rule tables">
                <h3 class="doc-nav-group__title " >
                  <a href="docs-ortho-config-dynamic-rule-tables.html">Dynamic rule tables</a>
                </h3>
              </div>
              <div class="doc-nav-group" aria-label="Ignore patterns">
                <h3 class="doc-nav-group__title " >
                  <a href="docs-ortho-config-ignore-patterns.html">Ignore patterns</a>
                </h3>
              </div>
              <div class="doc-nav-group" aria-label="Subcommand configuration">
                <h3 class="doc-nav-group__title " >
                  <a href="docs-ortho-config-subcommand-configuration.html">Subcommand configuration</a>
                </h3>
                  <ul class="doc-nav__list" role="list">
                      <li>
                        <a href="docs-ortho-config-subcommand-configuration.html#subcommand-configuration-how-it-works"
                           class="doc-nav__link "
>
                          <span>How it works</span>
                        </a>
                      </li>
                      <li>
                        <a href="docs-ortho-config-subcommand-configuration.html#subcommand-configuration-example"
                           class="doc-nav__link "
>
                          <span>Example</span>
                        </a>
                      </li>
                      <li>
                        <a href="docs-ortho-config-subcommand-configuration.html#subcommand-configuration-hello-world-walkthrough"
                           class="doc-nav__link "
>
                          <span>Hello world walkthrough</span>
                        </a>
                      </li>
                      <li>
                        <a href="docs-ortho-config-subcommand-configuration.html#subcommand-configuration-dispatching-with-clap-dispatch"
                           class="doc-nav__link "
>
                          <span>Dispatching with `clap‑dispatch`</span>
                        </a>
                      </li>
                  </ul>
              </div>
              <div class="doc-nav-group" aria-label="Error handling">
                <h3 class="doc-nav-group__title " >
                  <a href="docs-ortho-config-error-handling.html">Error handling</a>
                </h3>
                  <ul class="doc-nav__list" role="list">
                      <li>
                        <a href="docs-ortho-config-error-handling.html#error-handling-aggregating-multiple-errors"
                           class="doc-nav__link "
>
                          <span>Aggregating multiple errors</span>
                        </a>
                      </li>
                      <li>
                        <a href="docs-ortho-config-error-handling.html#error-handling-mapping-errors-ergonomically"
                           class="doc-nav__link "
>
                          <span>Mapping errors ergonomically</span>
                        </a>
                      </li>
                  </ul>
              </div>
              <div class="doc-nav-group" aria-label="Additional notes">
                <h3 class="doc-nav-group__title " >
                  <a href="docs-ortho-config-additional-notes.html">Additional notes</a>
                </h3>
              </div>
              <div class="doc-nav-group" aria-label="Conclusion">
                <h3 class="doc-nav-group__title " >
                  <a href="docs-ortho-config-conclusion.html">Conclusion</a>
                </h3>
              </div>
          </div>
          <div>
            <p class="doc-sidebar__section-label">Source</p>
            <a class="inline-flex items-center gap-2 font-semibold text-primary" href="https://raw.githubusercontent.com/leynos/ortho-config/refs/tags/v0.5.0/docs/users-guide.md" target="_blank" rel="noopener">
              View markdown
              <iconify-icon icon="carbon:arrow-up-right" aria-hidden="true"></iconify-icon>
            </a>
            <p class="mt-1 text-xs text-base-content/60">Source material</p>
          </div>
        </div>
      </aside>

      <section class="space-y-6" id="loading-configuration-and-precedence-rules">
        <nav class="doc-mobile-nav" aria-labelledby="mobile-sections-label">
          <p id="mobile-sections-label" class="doc-sidebar__section-label">Contents</p>
          <ul class="doc-nav__list doc-nav__list--mobile" role="list">
              <li class="doc-nav-group">
                <h3 class="doc-nav-group__title">Core concepts and motivation</h3>
                <ul class="doc-nav__list doc-nav__list--mobile" role="list">
                    <li>
                      <a href="docs-ortho-config-core-concepts-and-motivation.html" class="doc-nav__link">Core concepts and motivation</a>
                    </li>
                </ul>
              </li>
              <li class="doc-nav-group">
                <h3 class="doc-nav-group__title">Installation and dependencies</h3>
                <ul class="doc-nav__list doc-nav__list--mobile" role="list">
                    <li>
                      <a href="docs-ortho-config-installation-and-dependencies.html" class="doc-nav__link">Installation and dependencies</a>
                    </li>
                </ul>
              </li>
              <li class="doc-nav-group">
                <h3 class="doc-nav-group__title">Migrating from earlier versions</h3>
                <ul class="doc-nav__list doc-nav__list--mobile" role="list">
                    <li>
                      <a href="docs-ortho-config-migrating-from-earlier-versions.html" class="doc-nav__link">Migrating from earlier versions</a>
                    </li>
                </ul>
              </li>
              <li class="doc-nav-group">
                <h3 class="doc-nav-group__title">Defining configuration structures</h3>
                <ul class="doc-nav__list doc-nav__list--mobile" role="list">
                    <li>
                      <a href="docs-ortho-config-defining-configuration-structures.html" class="doc-nav__link">Defining configuration structures</a>
                    </li>
                    <li>
                      <a href="docs-ortho-config-defining-configuration-structures.html#defining-configuration-structures-field-level-attributes" class="doc-nav__link">Field-level attributes</a>
                    </li>
                    <li>
                      <a href="docs-ortho-config-defining-configuration-structures.html#defining-configuration-structures-example-configuration-struct" class="doc-nav__link">Example configuration struct</a>
                    </li>
                    <li>
                      <a href="docs-ortho-config-defining-configuration-structures.html#defining-configuration-structures-customising-configuration-discovery" class="doc-nav__link">Customising configuration discovery</a>
                    </li>
                </ul>
              </li>
              <li class="doc-nav-group">
                <h3 class="doc-nav-group__title">Loading configuration and precedence rules</h3>
                <ul class="doc-nav__list doc-nav__list--mobile" role="list">
                    <li>
                      <a href="docs-ortho-config-loading-configuration-and-precedence-rules.html" class="doc-nav__link">Loading configuration and precedence rules</a>
                    </li>
                    <li>
                      <a href="docs-ortho-config-loading-configuration-and-precedence-rules.html#loading-configuration-and-precedence-rules-how-loading-works" class="doc-nav__link">How loading works</a>
                    </li>
                    <li>
                      <a href="docs-ortho-config-loading-configuration-and-precedence-rules.html#loading-configuration-and-precedence-rules-config-path-override" class="doc-nav__link">Config path override</a>
                    </li>
                    <li>
                      <a href="docs-ortho-config-loading-configuration-and-precedence-rules.html#loading-configuration-and-precedence-rules-source-precedence" class="doc-nav__link">Source precedence</a>
                    </li>
                    <li>
                      <a href="docs-ortho-config-loading-configuration-and-precedence-rules.html#loading-configuration-and-precedence-rules-using-defaults-and-optional-fields" class="doc-nav__link">Using defaults and optional fields</a>
                    </li>
                    <li>
                      <a href="docs-ortho-config-loading-configuration-and-precedence-rules.html#loading-configuration-and-precedence-rules-environment-variable-naming" class="doc-nav__link">Environment variable naming</a>
                    </li>
                </ul>
              </li>
              <li class="doc-nav-group">
                <h3 class="doc-nav-group__title">Configuration inheritance</h3>
                <ul class="doc-nav__list doc-nav__list--mobile" role="list">
                    <li>
                      <a href="docs-ortho-config-configuration-inheritance.html" class="doc-nav__link">Configuration inheritance</a>
                    </li>
                </ul>
              </li>
              <li class="doc-nav-group">
                <h3 class="doc-nav-group__title">Dynamic rule tables</h3>
                <ul class="doc-nav__list doc-nav__list--mobile" role="list">
                    <li>
                      <a href="docs-ortho-config-dynamic-rule-tables.html" class="doc-nav__link">Dynamic rule tables</a>
                    </li>
                </ul>
              </li>
              <li class="doc-nav-group">
                <h3 class="doc-nav-group__title">Ignore patterns</h3>
                <ul class="doc-nav__list doc-nav__list--mobile" role="list">
                    <li>
                      <a href="docs-ortho-config-ignore-patterns.html" class="doc-nav__link">Ignore patterns</a>
                    </li>
                </ul>
              </li>
              <li class="doc-nav-group">
                <h3 class="doc-nav-group__title">Subcommand configuration</h3>
                <ul class="doc-nav__list doc-nav__list--mobile" role="list">
                    <li>
                      <a href="docs-ortho-config-subcommand-configuration.html" class="doc-nav__link">Subcommand configuration</a>
                    </li>
                    <li>
                      <a href="docs-ortho-config-subcommand-configuration.html#subcommand-configuration-how-it-works" class="doc-nav__link">How it works</a>
                    </li>
                    <li>
                      <a href="docs-ortho-config-subcommand-configuration.html#subcommand-configuration-example" class="doc-nav__link">Example</a>
                    </li>
                    <li>
                      <a href="docs-ortho-config-subcommand-configuration.html#subcommand-configuration-hello-world-walkthrough" class="doc-nav__link">Hello world walkthrough</a>
                    </li>
                    <li>
                      <a href="docs-ortho-config-subcommand-configuration.html#subcommand-configuration-dispatching-with-clap-dispatch" class="doc-nav__link">Dispatching with `clap‑dispatch`</a>
                    </li>
                </ul>
              </li>
              <li class="doc-nav-group">
                <h3 class="doc-nav-group__title">Error handling</h3>
                <ul class="doc-nav__list doc-nav__list--mobile" role="list">
                    <li>
                      <a href="docs-ortho-config-error-handling.html" class="doc-nav__link">Error handling</a>
                    </li>
                    <li>
                      <a href="docs-ortho-config-error-handling.html#error-handling-aggregating-multiple-errors" class="doc-nav__link">Aggregating multiple errors</a>
                    </li>
                    <li>
                      <a href="docs-ortho-config-error-handling.html#error-handling-mapping-errors-ergonomically" class="doc-nav__link">Mapping errors ergonomically</a>
                    </li>
                </ul>
              </li>
              <li class="doc-nav-group">
                <h3 class="doc-nav-group__title">Additional notes</h3>
                <ul class="doc-nav__list doc-nav__list--mobile" role="list">
                    <li>
                      <a href="docs-ortho-config-additional-notes.html" class="doc-nav__link">Additional notes</a>
                    </li>
                </ul>
              </li>
              <li class="doc-nav-group">
                <h3 class="doc-nav-group__title">Conclusion</h3>
                <ul class="doc-nav__list doc-nav__list--mobile" role="list">
                    <li>
                      <a href="docs-ortho-config-conclusion.html" class="doc-nav__link">Conclusion</a>
                    </li>
                </ul>
              </li>
          </ul>
        </nav>

        <header class="doc-hero" id="doc-title">
          <h1 class="doc-hero__title">Loading configuration and precedence rules</h1>
          <div class="doc-meta-list">
              <span class="doc-meta-list__item">Version 0.5.0</span>
            <span class="doc-meta-list__item">Updated Oct 09, 2025</span>
          </div>
        </header>

        <article class="doc-article">
                <section id="loading-configuration-and-precedence-rules-how-loading-works" class="doc-section">
                  <div class="doc-section__heading">
                    <h2>How loading works</h2>
                  </div>
                  <div class="doc-prose"><p>The <code>load_from_iter</code> method (used by the convenience <code>load</code>) performs the
following steps:</p>
<ol>
<li>
<p>Builds a <code>figment</code> configuration profile. A defaults provider constructed
   from the <code>#[ortho_config(default = …)]</code> attributes is added first.</p>
</li>
<li>
<p>Attempts to load a configuration file. Candidate file paths are searched in
   the following order:</p>
<ol>
<li>
<p>If provided, a path supplied via the CLI flag generated by the
   <code>discovery(...)</code> attribute (which defaults to a hidden <code>--config-path</code>)
   or the <code>&lt;PREFIX&gt;CONFIG_PATH</code> environment variable (for example,
   <code>APP_CONFIG_PATH</code> or <code>CONFIG_PATH</code>) takes precedence; see
   <a href="#config-path-override">Config path override</a>.</p>
</li>
<li>
<p>A dotfile named <code>.&lt;prefix&gt;.toml</code> in the current working directory.</p>
</li>
<li>
<p>A dotfile of the same name in the user's home directory.</p>
</li>
<li>
<p>On Unix‑like systems, the XDG configuration directory (e.g.
   <code>~/.config/app/config.toml</code>) is searched using the <code>xdg</code> crate; on
   Windows, the <code>%APPDATA%</code> and <code>%LOCALAPPDATA%</code> directories are checked.</p>
</li>
<li>
<p>If the <code>json5</code> or <code>yaml</code> features are enabled, files with <code>.json</code>,
   <code>.json5</code>, <code>.yaml</code>, or <code>.yml</code> extensions are also considered in these
   locations.</p>
</li>
</ol>
</li>
<li>
<p>Adds an environment provider using the prefix specified on the struct. Keys
   are upper‑cased and nested fields use double underscores (<code>__</code>) to separate
   components.</p>
</li>
<li>
<p>Adds a provider containing the CLI values (captured as <code>Option&lt;T&gt;</code> fields)
   as the final layer.</p>
</li>
<li>
<p>Merges vector fields according to the <code>merge_strategy</code> (currently only
   <code>append</code>) so that lists of values from lower precedence sources are extended
   with values from higher precedence ones.</p>
</li>
<li>
<p>Attempts to extract the merged configuration into the concrete struct. On
   success it returns the completed configuration; otherwise an <code>OrthoError</code> is
   returned.</p>
</li>
</ol></div>
                </section>
                <section id="loading-configuration-and-precedence-rules-config-path-override" class="doc-section">
                  <div class="doc-section__heading">
                    <h2>Config path override</h2>
                  </div>
                  <div class="doc-prose"><p>The derive macro always recognises a configuration override flag and the
associated environment variables even when you do not declare a field
explicitly. By default a hidden <code>--config-path</code> flag is accepted alongside
<code>&lt;PREFIX&gt;CONFIG_PATH</code> and the unprefixed <code>CONFIG_PATH</code>. Applying the
struct-level <code>discovery(...)</code> attribute customises this behaviour, allowing you
to rename or expose the CLI flag and adjust the filenames searched during
discovery:</p>
<div class="codehilite" data-language="rust"><pre><span></span><code><span class="cp">#[derive(Debug, Deserialize, ortho_config::OrthoConfig)]</span>
<span class="cp">#[ortho_config(</span>
<span class="cp">    prefix = </span><span class="s">&quot;APP_&quot;</span><span class="cp">,</span>
<span class="cp">    discovery(</span>
<span class="cp">        app_name = </span><span class="s">&quot;demo&quot;</span><span class="cp">,</span>
<span class="cp">        env_var = </span><span class="s">&quot;DEMO_CONFIG_PATH&quot;</span><span class="cp">,</span>
<span class="cp">        config_file_name = </span><span class="s">&quot;demo.toml&quot;</span><span class="cp">,</span>
<span class="cp">        dotfile_name = </span><span class="s">&quot;.demo.toml&quot;</span><span class="cp">,</span>
<span class="cp">        project_file_name = </span><span class="s">&quot;.demo.toml&quot;</span><span class="cp">,</span>
<span class="cp">        config_cli_long = </span><span class="s">&quot;config&quot;</span><span class="cp">,</span>
<span class="cp">        config_cli_short = &#39;c&#39;,</span>
<span class="cp">        config_cli_visible = true,</span>
<span class="cp">    )</span>
<span class="cp">)]</span>
<span class="k">struct</span><span class="w"> </span><span class="nc">CliArgs</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="cp">#[ortho_config(default = 8080)]</span>
<span class="w">    </span><span class="n">port</span><span class="p">:</span><span class="w"> </span><span class="kt">u16</span><span class="p">,</span>
<span class="p">}</span>
</code></pre></div>

<p>The snippet above exposes a visible <code>--config</code>/<code>-c</code> flag, renames the
environment override to <code>DEMO_CONFIG_PATH</code>, and instructs discovery to search
for <code>demo.toml</code> (and <code>.demo.toml</code>) within the standard directories. Omitting
<code>config_cli_visible</code> keeps the flag hidden while still parsing it, and leaving
<code>config_cli_short</code> unset skips the short alias. When the <code>discovery(...)</code>
attribute is absent, the defaults—hidden <code>--config-path</code>, <code>&lt;PREFIX&gt;CONFIG_PATH</code>
and <code>CONFIG_PATH</code>, and the automatically derived dotfile names—remain in effect.</p></div>
                </section>
                <section id="loading-configuration-and-precedence-rules-source-precedence" class="doc-section">
                  <div class="doc-section__heading">
                    <h2>Source precedence</h2>
                  </div>
                  <div class="doc-prose"><p>Values are loaded from each layer in a specific order. Later layers override
earlier ones. The precedence, from lowest to highest, is:</p>
<ol>
<li>
<p><strong>Application‑defined defaults</strong> – values provided via <code>default</code> attributes
   or <code>Option&lt;T&gt;</code> fields are considered defaults.</p>
</li>
<li>
<p><strong>Configuration file</strong> – values from a TOML (or JSON5/YAML) file loaded from
   one of the paths listed above.</p>
</li>
<li>
<p><strong>Environment variables</strong> – variables prefixed with the struct's <code>prefix</code>
   (e.g. <code>APP_PORT</code>, <code>APP_DATABASE__URL</code>) override file values.</p>
</li>
<li>
<p><strong>Command‑line arguments</strong> – values parsed by <code>clap</code> override all other
   sources.</p>
</li>
</ol>
<p>Nested structs are flattened in the environment namespace by joining field
names with double underscores. For example, if <code>AppConfig</code> has a nested
<code>database</code> field and the prefix is <code>APP</code>, then <code>APP_DATABASE__URL</code> sets the
<code>database.url</code> field. If a nested struct has its own prefix attribute, that
prefix is used for its fields (e.g. <code>APP_DB_URL</code>).</p>
<p>When <code>clap</code>'s <code>flatten</code> attribute is employed to compose argument groups, the
flattened struct is initialized even if no CLI flags within the group are
specified. During merging, <code>ortho_config</code> discards these empty groups so that
values from configuration files or the environment remain in place unless a
field is explicitly supplied on the command line.</p></div>
                </section>
                <section id="loading-configuration-and-precedence-rules-using-defaults-and-optional-fields" class="doc-section">
                  <div class="doc-section__heading">
                    <h2>Using defaults and optional fields</h2>
                  </div>
                  <div class="doc-prose"><p>Fields of type <code>Option&lt;T&gt;</code> are treated as optional values. If no source
provides a value for an <code>Option&lt;T&gt;</code> field then it remains <code>None</code>. To provide a
default value for a non‑<code>Option</code> field or for an <code>Option&lt;T&gt;</code> field that should
have an initial value, specify <code>#[ortho_config(default = expr)]</code>. This default
acts as the lowest‑precedence source and is overridden by file, environment or
CLI values.</p></div>
                </section>
                <section id="loading-configuration-and-precedence-rules-environment-variable-naming" class="doc-section">
                  <div class="doc-section__heading">
                    <h2>Environment variable naming</h2>
                  </div>
                  <div class="doc-prose"><p>Environment variables are upper‑cased and use underscores. The struct‑level
prefix (if supplied) is prepended without any separator, and nested fields are
separated by double underscores. For the <code>AppConfig</code> and <code>DatabaseConfig</code>
example above, valid environment variables include <code>APP_LOG_LEVEL</code>, <code>APP_PORT</code>,
<code>APP_DATABASE__URL</code> and <code>APP_DATABASE__POOL_SIZE</code>. If the nested struct has its
own prefix (<code>DB</code>), then the environment variable becomes <code>APP_DB_URL</code>.</p>
<p>Comma-separated values such as <code>DDLINT_RULES=A,B,C</code> are parsed as lists. The
loader converts these strings into arrays before merging, so array fields
behave the same across environment variables, CLI arguments and configuration
files. Values containing literal commas must be wrapped in quotes or brackets
to disable list parsing.</p></div>
                </section>
        </article>
      </section>
    </div>
  </main>

  <footer id="footer" class="border-t border-base-200 bg-base-100">
    <div class="layout-shell layout-shell--docs grid gap-12 px-6 py-16 md:grid-cols-3 md:px-16">
      <div>
        <p class="font-mono text-sm font-semibold tracking-[0.3em] text-base-content/90">df12 Productions</p>
        <p class="mt-4 text-sm text-base-content/90">Serious systems, playful worlds. We ship tools that cut build times and stories that map the human edge of complex networks.</p>
      </div>
      <div>
        <h2>OSS &amp; Licences</h2>
        <ul class="mt-4 space-y-2 text-sm">
          <li><a class="footer-link" href="https://github.com/leynos/limela/blob/main/LICENSE" target="_blank" rel="noopener noreferrer">Limela — licence</a></li>
          <li><a class="footer-link" href="https://github.com/leynos/netsuke/blob/main/LICENSE" target="_blank" rel="noopener noreferrer">Netsuke — licence</a></li>
          <li><a class="footer-link" href="https://github.com/leynos/mxd/blob/main/LICENSE" target="_blank" rel="noopener noreferrer">mxd — licence</a></li>
          <li><a class="footer-link" href="https://github.com/leynos/episodic/blob/main/LICENSE" target="_blank" rel="noopener noreferrer">Episodic — licence</a></li>
        </ul>
      </div>
      <div>
        <h3>Stay in touch</h3>
        <ul class="mt-4 space-y-2 text-sm">
          <li><a class="footer-link" data-variant="accent" href="mailto:hello@df12.studio">hello@df12.studio</a></li>
          <li>
            <a class="footer-link" data-variant="accent" href="https://github.com/leynos" target="_blank" rel="noopener noreferrer">
              <iconify-icon icon="carbon:logo-github" class="h-4 w-4" aria-hidden="true"></iconify-icon>
              GitHub
            </a>
          </li>
          <li>
            <a class="footer-link" data-variant="accent" href="https://bsky.app/profile/df12.studio" target="_blank" rel="noopener noreferrer">
              <iconify-icon icon="carbon:logo-bluesky" class="h-4 w-4" aria-hidden="true"></iconify-icon>
              Bluesky
            </a>
          </li>
        </ul>
        <p class="mt-6 text-xs text-base-content/80">Generated November 11, 2025 at 15:37 UTC</p>
        <p class="mt-4 text-xs text-base-content/80">Built for curious builders and storytellers everywhere. ©&nbsp;2025&nbsp;df12 Productions.</p>
      </div>
    </div>
  </footer>

  <script>
    (() => {
      const blocks = document.querySelectorAll('.codehilite');
      if (!blocks.length) {
        return;
      }

      const formatLanguage = (raw) => {
        const value = (raw || '').trim();
        if (!value || value.toLowerCase() === 'text') {
          return 'Plain Text';
        }
        return value
          .replace(/[._-]+/g, ' ')
          .replace(/\b\w/g, (char) => char.toUpperCase());
      };

      const writeClipboard = async (text) => {
        if (!text) {
          return false;
        }
        try {
          if (navigator.clipboard?.writeText) {
            await navigator.clipboard.writeText(text);
            return true;
          }
        } catch (error) {
          /* fall back */
        }

        try {
          const textarea = document.createElement('textarea');
          textarea.value = text;
          textarea.setAttribute('readonly', 'readonly');
          textarea.style.position = 'absolute';
          textarea.style.left = '-9999px';
          document.body.appendChild(textarea);
          textarea.select();
          const success = document.execCommand('copy');
          document.body.removeChild(textarea);
          return success;
        } catch (error) {
          return false;
        }
      };

      blocks.forEach((block) => {
        if (block.dataset.enhanced === 'true') {
          return;
        }
        const pre = block.querySelector('pre');
        const code = block.querySelector('code') || pre;
        if (!pre || !code) {
          return;
        }

        block.dataset.enhanced = 'true';

        const chrome = document.createElement('div');
        chrome.className = 'codehilite__chrome';

        const languageLabel = document.createElement('span');
        languageLabel.className = 'codehilite__language';
        const lang = block.dataset.language || '';
        const readableLang = formatLanguage(lang);
        languageLabel.textContent = readableLang;

        const copyButton = document.createElement('button');
        copyButton.type = 'button';
        copyButton.className = 'codehilite__copy';
        copyButton.setAttribute('aria-label', `Copy ${readableLang} code snippet`);
        copyButton.innerHTML = `
          <span class="codehilite__copy-icon" aria-hidden="true">
            <iconify-icon icon="carbon:copy" class="h-4 w-4"></iconify-icon>
          </span>
          <span class="codehilite__copy-text">Copy</span>
        `;

        chrome.appendChild(languageLabel);
        chrome.appendChild(copyButton);
        block.insertBefore(chrome, pre);

        const copyTextLabel = copyButton.querySelector('.codehilite__copy-text');
        let resetTimer;

        copyButton.addEventListener('click', async () => {
          const textContent = code.textContent || '';
          const didCopy = await writeClipboard(textContent.trimEnd());
          if (!didCopy) {
            if (copyTextLabel) {
              copyTextLabel.textContent = 'Press ⌘/Ctrl+C';
            }
            clearTimeout(resetTimer);
            resetTimer = setTimeout(() => {
              copyButton.removeAttribute('data-state');
              if (copyTextLabel) {
                copyTextLabel.textContent = 'Copy';
              }
            }, 2500);
            return;
          }
          copyButton.dataset.state = 'copied';
          if (copyTextLabel) {
            copyTextLabel.textContent = 'Copied';
          }
          clearTimeout(resetTimer);
          resetTimer = setTimeout(() => {
            copyButton.removeAttribute('data-state');
            if (copyTextLabel) {
              copyTextLabel.textContent = 'Copy';
            }
          }, 2500);
        });
      });
    })();
  </script>
<script src="https://code.iconify.design/iconify-icon/2.1.0/iconify-icon.min.js" defer></script>
</body>
</html>