{% macro site_header(brand_href, brand_text, nav_links, shell_class='layout-shell') -%}
<header id="site-header" class="fixed inset-x-0 top-0 z-50 border-b border-base-200 bg-base-100/80 backdrop-blur supports-[backdrop-filter]:bg-base-100/60">
  <div class="{{ shell_class }} flex w-full items-center justify-between px-4 py-4 md:px-8">
    <a href="{{ brand_href }}" class="group flex items-center gap-3 font-mono text-lg font-bold uppercase tracking-[0.35em] text-base-content">
      <span class="flex h-9 w-9 items-center justify-center transition-transform duration-300 group-hover:rotate-45">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
          <rect x="12" width="16.9706" height="16.9706" transform="rotate(45 12 0)" />
        </svg>
      </span>
      {{ brand_text }}
    </a>
    <nav aria-label="Primary navigation" class="hidden items-center gap-8 md:flex">
{% for link in nav_links %}
      <a href="{{ link.href }}" class="nav-link hit-target"{% if link.variant %} data-variant="{{ link.variant }}"{% endif %}{% if link.nav_target %} data-nav-target="{{ link.nav_target }}"{% endif %}{% if link.current %} aria-current="page"{% endif %}>{{ link.label }}</a>
{% endfor %}
    </nav>
    <div class="md:hidden">
      <details class="dropdown dropdown-end">
        <summary class="btn btn-ghost btn-sm font-mono uppercase tracking-[0.3em]">Menu</summary>
        <ul class="menu dropdown-content menu-sm z-[1] mt-2 w-44 rounded-box bg-base-100 p-2 shadow">
{% for link in nav_links %}
          <li><a href="{{ link.href }}" class="nav-link hit-target w-full justify-start"{% if link.variant %} data-variant="{{ link.variant }}"{% endif %}{% if link.nav_target %} data-nav-target="{{ link.nav_target }}"{% endif %}{% if link.current %} aria-current="page"{% endif %}>{{ link.label }}</a></li>
{% endfor %}
        </ul>
      </details>
    </div>
  </div>
</header>
{%- endmacro %}

{% macro marketing_footer(footer, generated_at) -%}
<footer id="footer" class="border-t border-base-200 bg-base-100">
  <div class="layout-shell grid gap-12 px-6 py-16 md:grid-cols-3 md:px-16">
    <div>
      <p class="font-mono text-sm font-semibold tracking-[0.3em] text-base-content/90">{{ footer.site_name }}</p>
      <p class="mt-4 text-sm text-base-content/90">{{ footer.blurb }}</p>
    </div>
    <div>
      <h2>{{ footer.oss_heading }}</h2>
      <ul class="mt-4 space-y-2 text-sm">
{% for link in footer.oss_links %}
        <li><a class="footer-link" href="{{ link.href }}"{% if link.external %} target="_blank" rel="noopener noreferrer"{% endif %}>{{ link.label }}</a></li>
{% endfor %}
      </ul>
    </div>
    <div>
      <h3>{{ footer.contact_heading }}</h3>
      <ul class="mt-4 space-y-2 text-sm">
{% for link in footer.contact_links %}
{% if link.icon %}
        <li>
          <a class="footer-link"{% if link.variant %} data-variant="{{ link.variant }}"{% endif %} href="{{ link.href }}"{% if link.external %} target="_blank" rel="noopener noreferrer"{% endif %}>
            <iconify-icon icon="{{ link.icon }}" class="h-4 w-4" aria-hidden="true"></iconify-icon>
            {{ link.label }}
          </a>
        </li>
{% else %}
        <li><a class="footer-link"{% if link.variant %} data-variant="{{ link.variant }}"{% endif %} href="{{ link.href }}"{% if link.external %} target="_blank" rel="noopener noreferrer"{% endif %}>{{ link.label }}</a></li>
{% endif %}
{% endfor %}
      </ul>
      <p class="mt-4 text-xs text-base-content/80">{{ footer.closing_lede }} ©&nbsp;{{ footer.copyright_year }}&nbsp;{{ footer.site_name.replace(' ', '&nbsp;') | safe }}.</p>
    </div>
  </div>
</footer>
{%- endmacro %}

{% macro docs_footer(site_name, generated_at, shell_class='layout-shell') -%}
<footer id="footer" class="border-t border-base-200 bg-base-100">
  <div class="{{ shell_class }} grid gap-12 px-6 py-16 md:grid-cols-3 md:px-16">
    <div>
      <p class="font-mono text-sm font-semibold tracking-[0.3em] text-base-content/90">{{ site_name }}</p>
      <p class="mt-4 text-sm text-base-content/90">Serious systems, playful worlds. We ship tools that cut build times and stories that map the human edge of complex networks.</p>
    </div>
    <div>
      <h2>OSS &amp; Licences</h2>
      <ul class="mt-4 space-y-2 text-sm">
        <li><a class="footer-link" href="https://github.com/leynos/limela/blob/main/LICENSE" target="_blank" rel="noopener noreferrer">Limela — licence</a></li>
        <li><a class="footer-link" href="https://github.com/leynos/netsuke/blob/main/LICENSE" target="_blank" rel="noopener noreferrer">Netsuke — licence</a></li>
        <li><a class="footer-link" href="https://github.com/leynos/mxd/blob/main/LICENSE" target="_blank" rel="noopener noreferrer">mxd — licence</a></li>
        <li><a class="footer-link" href="https://github.com/leynos/episodic/blob/main/LICENSE" target="_blank" rel="noopener noreferrer">Episodic — licence</a></li>
      </ul>
    </div>
    <div>
      <h3>Stay in touch</h3>
      <ul class="mt-4 space-y-2 text-sm">
        <li><a class="footer-link" data-variant="accent" href="mailto:hello@df12.studio">hello@df12.studio</a></li>
        <li>
          <a class="footer-link" data-variant="accent" href="https://github.com/leynos" target="_blank" rel="noopener noreferrer">
            <iconify-icon icon="carbon:logo-github" class="h-4 w-4" aria-hidden="true"></iconify-icon>
            GitHub
          </a>
        </li>
        <li>
          <a class="footer-link" data-variant="accent" href="https://bsky.app/profile/df12.studio" target="_blank" rel="noopener noreferrer">
            <iconify-icon icon="carbon:logo-bluesky" class="h-4 w-4" aria-hidden="true"></iconify-icon>
            Bluesky
          </a>
        </li>
      </ul>
      <p class="mt-6 text-xs text-base-content/80">Generated {{ generated_at.strftime('%B %d, %Y at %H:%M %Z') }}</p>
      <p class="mt-4 text-xs text-base-content/80">Built for curious builders and storytellers everywhere. ©&nbsp;{{ generated_at.year }}&nbsp;{{ site_name }}.</p>
    </div>
  </div>
</footer>
{%- endmacro %}
